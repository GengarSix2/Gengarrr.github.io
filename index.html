<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
    
  <meta name="description" content="ä¸€ä¸ªå…´è¶£ä½¿ç„¶çš„å°ç«™" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
     Ayer
  </title>
  <meta name="generator" content="hexo-theme-yilia-plus">
  
  <link rel="shortcut icon" href="/favicon.ico" />
  
  
<link rel="stylesheet" href="/css/style.css">

  
<script src="/js/pace.min.js"></script>


  

  

</head>

</html>

<body>
  <div id="app">
    <main class="content">
      
<section class="cover">
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">Ayer</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script>

<div id="main">
  <section class="outer">
  <article class="articles">
    
    
    
    
    <article id="post-Tensorflow2.0-Cats vs Dogs" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/09/08/Tensorflow2.0-Cats%20vs%20Dogs/"
    >Course2-Part2-Cats vs Dogs</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/09/08/Tensorflow2.0-Cats%20vs%20Dogs/" class="article-date">
  <time datetime="2020-09-08T12:20:06.000Z" itemprop="datePublished">2020-09-08</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      


      

      
      <p>å­¦ä¹ ç›®æ ‡ï¼š  </p>
<ol>
<li>å­¦ä¹ å¤„ç†<code>çŒ«ç‹—æ•°æ®é›†</code></li>
<li>æ­å»ºç¥ç»ç½‘ç»œå­¦ä¹ ä¸¤è€…ä¹‹é—´çš„åŒºåˆ«</li>
<li>è®¡ç®—è®­ç»ƒé›†å’ŒéªŒè¯é›†çš„æ­£ç¡®ç‡</li>
</ol>
<h2 id="Explore-the-Example-Data"><a href="#Explore-the-Example-Data" class="headerlink" title="Explore the Example Data"></a>Explore the Example Data</h2><p><code>cats_and_dogs_filtered</code>æ–‡ä»¶å¤¹ç»“æ„ï¼š   </p>
<p>train<br>â€”â€”cats<br>â€”â€”dogs<br>validation<br>â€”â€”cats<br>â€”â€”dogs    </p>
<p>åˆå§‹åŒ–è®­ç»ƒé›†å’ŒéªŒè¯é›†ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">base_dir = <span class="string">'./cats_and_dogs_filtered'</span></span><br><span class="line"></span><br><span class="line">train_dir = os.path.join(base_dir, <span class="string">'train'</span>)</span><br><span class="line">validation_dir = os.path.join(base_dir, <span class="string">'validation'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory of training cat/dog pictures</span></span><br><span class="line">train_cats_dir = os.path.join(train_dir, <span class="string">'cats'</span>)</span><br><span class="line">train_dogs_dir = os.path.join(train_dir, <span class="string">'dogs'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory of validation cat/dog pictures</span></span><br><span class="line">validation_cats_dir = os.path.join(validation_dir, <span class="string">'cats'</span>)</span><br><span class="line">validation_cats_dir = os.path.join(validation_dir, <span class="string">'dogs'</span>)</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬æœ‰1000å¼ è®­ç»ƒé›†çŒ«/ç‹—å›¾ç‰‡å’Œ500éªŒè¯é›†çŒ«/ç‹—å›¾ç‰‡ï¼Œæ¥ä¸‹æ¥é€šè¿‡é…ç½®<code>matplot</code>å‚æ•°æ¥æ›´å¥½åœ°è§‚å¯Ÿæ•°æ®é›†ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">%matplotlib inline</span><br><span class="line"><span class="keyword">import</span> matplotlib.image <span class="keyword">as</span> mpimg</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®è¾“å‡ºå›¾ç‰‡çš„å¤§å°</span></span><br><span class="line">nrows = <span class="number">4</span></span><br><span class="line">ncols = <span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># éå†å›¾ç‰‡çš„ä¸‹æ ‡</span></span><br><span class="line">pic_index = <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ä»¥8å¼ catï¼Œ8å¼ dogä¸ºä¸€è½®ï¼Œå±•ç¤ºå›¾ç‰‡ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.gcf()</span><br><span class="line">fig.set_size_inches(ncols*<span class="number">4</span>, nrows*<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">pic_index += <span class="number">8</span></span><br><span class="line"></span><br><span class="line">next_cat_pix = [os.path.join(train_cats_dir, fname)</span><br><span class="line">                <span class="keyword">for</span> fname <span class="keyword">in</span> train_cat_fnames[pic_index<span class="number">-8</span>:pic_index]</span><br><span class="line">               ]</span><br><span class="line"></span><br><span class="line">next_dog_pix = [os.path.join(train_dogs_dir, fname)</span><br><span class="line">                <span class="keyword">for</span> fname <span class="keyword">in</span> train_dog_fnames[pic_index<span class="number">-8</span>:pic_index]</span><br><span class="line">               ]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i, img_path <span class="keyword">in</span> enumerate(next_cat_pix+next_dog_pix):</span><br><span class="line">    <span class="comment"># è®¾ç½®å­å›¾ å‚æ•°åˆ†åˆ«ä¸ºï¼šè¡Œæ•°ã€åˆ—æ•°ã€ç´¢å¼•å€¼</span></span><br><span class="line">    sp = plt.subplot(nrows, ncols, i+<span class="number">1</span>)</span><br><span class="line">    sp.axis(<span class="string">'off'</span>) <span class="comment"># ä¸æ˜¾ç¤ºå›¾ç‰‡åæ ‡</span></span><br><span class="line">    img = mpimg.imread(img_path)</span><br><span class="line">    plt.imshow(img)</span><br><span class="line">    plt.imshow(img)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<p><img src="output_6_0.png" alt="png"></p>
<h2 id="Building-Model"><a href="#Building-Model" class="headerlink" title="Building Model"></a>Building Model</h2><p>ç”±äºæˆ‘ä»¬çš„åŸå§‹å›¾ç‰‡å…·æœ‰ä¸åŒçš„å°ºå¯¸ï¼Œåœ¨è®­ç»ƒå‰éœ€è¦å°†ä»–ä»¬resizeæˆç»Ÿä¸€çš„å°ºå¯¸ï¼Œæˆ‘ä»¬é€‰æ‹©150x150ï¼Œæ¥ä¸‹æ¥å¼€å§‹å®šä¹‰modelã€‚</p>
<p>æˆ‘ä»¬é¦–å…ˆå®šä¹‰äº†ä¸€ä¸ª<code>Sequential</code>é¡ºåºå±‚ï¼ŒåŠ å…¥ä¸€äº›å·ç§¯å±‚ï¼Œæ³¨æ„å›¾ç‰‡çš„å°ºå¯¸ã€‚<br>æ¥ç€å†å¢åŠ ä¸€äº›å·ç§¯å±‚ï¼Œå¹¶ä¸”<code>flatten</code>æœ€ç»ˆç»“æœï¼Œä»¥ä¾¿è¿›å…¥<code>dense</code>å…¨è¿æ¥å±‚ã€‚<br>æœ€ååŠ å…¥å…¨è¿æ¥å±‚ï¼Œç”±äºæˆ‘ä»¬å¤„ç†çš„æ˜¯äºŒåˆ†ç±»é—®é¢˜ï¼Œå› è€Œä½¿ç”¨<code>sigmoid</code>æ¿€æ´»å‡½æ•°ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line">model = tf.keras.models.Sequential([</span><br><span class="line">    <span class="comment"># æ³¨æ„è¾“å…¥å›¾ç‰‡æ ¼å¼ </span></span><br><span class="line">    tf.keras.layers.Conv2D(<span class="number">16</span>, (<span class="number">3</span>,<span class="number">3</span>), activation=<span class="string">'relu'</span>, input_shape=(<span class="number">150</span>,<span class="number">150</span>,<span class="number">3</span>)),</span><br><span class="line">    tf.keras.layers.MaxPooling2D(<span class="number">2</span>,<span class="number">2</span>),</span><br><span class="line">    tf.keras.layers.Conv2D(<span class="number">32</span>, (<span class="number">3</span>,<span class="number">3</span>), activation=<span class="string">'relu'</span>),</span><br><span class="line">    tf.keras.layers.MaxPooling2D(<span class="number">2</span>,<span class="number">2</span>),</span><br><span class="line">    tf.keras.layers.Conv2D(<span class="number">64</span>, (<span class="number">3</span>,<span class="number">3</span>), activation=<span class="string">'relu'</span>),</span><br><span class="line">    tf.keras.layers.MaxPooling2D(<span class="number">2</span>,<span class="number">2</span>),</span><br><span class="line">    tf.keras.layers.Flatten(),</span><br><span class="line">    tf.keras.layers.Dense(<span class="number">512</span>, activation=<span class="string">'relu'</span>),</span><br><span class="line">    <span class="comment"># æœ€ç»ˆè¾“å‡ºåªæœ‰ä¸€ä¸ªå€¼</span></span><br><span class="line">    tf.keras.layers.Dense(<span class="number">1</span>, activation=<span class="string">'sigmoid'</span>)</span><br><span class="line">])</span><br></pre></td></tr></table></figure>


<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹æ¨¡å‹ç»“æ„å‚æ•°</span></span><br><span class="line">model.summary()</span><br></pre></td></tr></table></figure>

<pre><code>Model: &quot;sequential&quot;
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
conv2d (Conv2D)              (None, 148, 148, 16)      448       
_________________________________________________________________
max_pooling2d (MaxPooling2D) (None, 74, 74, 16)        0         
_________________________________________________________________
conv2d_1 (Conv2D)            (None, 72, 72, 32)        4640      
_________________________________________________________________
max_pooling2d_1 (MaxPooling2 (None, 36, 36, 32)        0         
_________________________________________________________________
conv2d_2 (Conv2D)            (None, 34, 34, 64)        18496     
_________________________________________________________________
max_pooling2d_2 (MaxPooling2 (None, 17, 17, 64)        0         
_________________________________________________________________
flatten (Flatten)            (None, 18496)             0         
_________________________________________________________________
dense (Dense)                (None, 512)               9470464   
_________________________________________________________________
dense_1 (Dense)              (None, 1)                 513       
=================================================================
Total params: 9,494,561
Trainable params: 9,494,561
Non-trainable params: 0
_________________________________________________________________</code></pre><p>å› ä¸ºæ˜¯äºŒåˆ†ç±»é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨<code>binary_crossentropy</code>æ¥è®­ç»ƒæ¨¡å‹ï¼Œå¹¶ä¸”ä½¿ç”¨<code>rmsprop</code>ä¼˜åŒ–å‡½æ•°å’Œ<code>0.001</code>çš„è®­ç»ƒç‡ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tensorflow.keras.optimizers <span class="keyword">import</span> RMSprop</span><br><span class="line"></span><br><span class="line">model.compile(optimizer = RMSprop(lr=<span class="number">0.001</span>),</span><br><span class="line">              loss = <span class="string">'binary_crossentropy'</span>,</span><br><span class="line">              metrics = [<span class="string">'accuracy'</span>]</span><br><span class="line">             )</span><br></pre></td></tr></table></figure>

<h2 id="Data-Preprocessing"><a href="#Data-Preprocessing" class="headerlink" title="Data Preprocessing"></a>Data Preprocessing</h2><p>å›¾ç‰‡åœ¨è¿›å…¥ç¥ç»ç½‘ç»œè®­ç»ƒå‰éœ€è¦è¿›è¡Œé¢„å¤„ç†ï¼Œå°†åƒç´ å€¼å½’ä¸€åŒ–ï¼Œè®¾ç½®æˆ<code>[0, 1]</code>ä¹‹é—´çš„å€¼ã€‚  </p>
<p>ä½¿ç”¨è¯´æ˜ï¼š<br>In Keras this can be done via the <code>keras.preprocessing.image.ImageDataGenerator</code>class using the <code>rescale</code>parameter. This <code>ImageDataGenerator</code> class allows you to instantiate generators of augmented image batches (and their labels) via <code>.flow(data, labels)</code> or <code>.flow_from_directory(directory)</code>. These generators can then be used with the Keras model methods that accept data generators as inputs: <code>fit</code>, <code>evaluate_generator</code>, and <code>predict_generator</code>.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> tensorflow.keras.preprocessing.image <span class="keyword">import</span> ImageDataGenerator</span><br><span class="line"></span><br><span class="line"><span class="comment"># All images will be rescaled by 1./255</span></span><br><span class="line">train_datagen = ImageDataGenerator(rescale = <span class="number">1.0</span>/<span class="number">255.</span>)</span><br><span class="line">test_datagen = ImageDataGenerator(rescale = <span class="number">1.0</span>/<span class="number">255.</span>)</span><br><span class="line"></span><br><span class="line">train_generator = train_datagen.flow_from_directory(train_dir,</span><br><span class="line">                                                   batch_size = <span class="number">20</span>,</span><br><span class="line">                                                   class_mode = <span class="string">'binary'</span>,</span><br><span class="line">                                                   target_size = (<span class="number">150</span>, <span class="number">150</span>))</span><br><span class="line"></span><br><span class="line">validation_generator = test_datagen.flow_from_directory(validation_dir,</span><br><span class="line">                                                      batch_size = <span class="number">20</span>,</span><br><span class="line">                                                      class_mode = <span class="string">'binary'</span>,</span><br><span class="line">                                                      target_size = (<span class="number">150</span>, <span class="number">150</span>))</span><br></pre></td></tr></table></figure>

<pre><code>Found 2000 images belonging to 2 classes.
Found 1000 images belonging to 2 classes.</code></pre><h2 id="Training"><a href="#Training" class="headerlink" title="Training"></a>Training</h2><p>è®­ç»ƒ2000å¼ å›¾ç‰‡ï¼Œ15è½®ï¼Œå¹¶ç”¨1000å¼ å›¾ç‰‡è¿›è¡ŒéªŒè¯ã€‚<br>ä¸»è¦å…³æ³¨å››ä¸ªå‚æ•°ï¼š Loss, Accuracy, Validation Loss and Validation Accuracyã€‚<br>ä¹‹æ‰€ä»¥éªŒè¯é›†ä¸Šçš„æ­£ç¡®ç‡ä½ä¸€äº›ï¼Œæ˜¯å› ä¸ºå‘ç”Ÿäº†<code>è¿‡æ‹Ÿåˆ</code>ç°è±¡ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">history = model.fit(train_generator,</span><br><span class="line">                   validation_data = validation_generator,</span><br><span class="line">                   steps_per_epoch = <span class="number">100</span>,</span><br><span class="line">                   epochs = <span class="number">15</span>,</span><br><span class="line">                   validation_steps = <span class="number">50</span>,</span><br><span class="line">                   verbose = <span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<pre><code>Train for 100 steps, validate for 50 steps
Epoch 1/15
100/100 - 31s - loss: 0.7254 - accuracy: 0.5840 - val_loss: 0.6983 - val_accuracy: 0.5330
Epoch 2/15
100/100 - 6s - loss: 0.6174 - accuracy: 0.6715 - val_loss: 0.6289 - val_accuracy: 0.6620
Epoch 3/15
100/100 - 6s - loss: 0.5303 - accuracy: 0.7365 - val_loss: 0.5830 - val_accuracy: 0.7130
Epoch 4/15
100/100 - 7s - loss: 0.4546 - accuracy: 0.7885 - val_loss: 0.6252 - val_accuracy: 0.6840
Epoch 5/15
100/100 - 6s - loss: 0.3735 - accuracy: 0.8315 - val_loss: 0.7358 - val_accuracy: 0.6750
Epoch 6/15
100/100 - 6s - loss: 0.2905 - accuracy: 0.8655 - val_loss: 0.6466 - val_accuracy: 0.6810
Epoch 7/15
100/100 - 6s - loss: 0.2130 - accuracy: 0.9230 - val_loss: 0.8432 - val_accuracy: 0.7120
Epoch 8/15
100/100 - 6s - loss: 0.1432 - accuracy: 0.9455 - val_loss: 0.8759 - val_accuracy: 0.6890
Epoch 9/15
100/100 - 6s - loss: 0.1003 - accuracy: 0.9665 - val_loss: 1.0862 - val_accuracy: 0.7040
Epoch 10/15
100/100 - 7s - loss: 0.0769 - accuracy: 0.9760 - val_loss: 1.3929 - val_accuracy: 0.7180
Epoch 11/15
100/100 - 7s - loss: 0.0566 - accuracy: 0.9835 - val_loss: 1.5369 - val_accuracy: 0.7070
Epoch 12/15
100/100 - 7s - loss: 0.0353 - accuracy: 0.9870 - val_loss: 1.7776 - val_accuracy: 0.6920
Epoch 13/15
100/100 - 6s - loss: 0.0353 - accuracy: 0.9900 - val_loss: 1.9454 - val_accuracy: 0.7190
Epoch 14/15
100/100 - 6s - loss: 0.0549 - accuracy: 0.9875 - val_loss: 1.8197 - val_accuracy: 0.7270
Epoch 15/15
100/100 - 6s - loss: 0.0347 - accuracy: 0.9915 - val_loss: 1.9393 - val_accuracy: 0.7340</code></pre><h2 id="Visualizing-Intermediate-Representations"><a href="#Visualizing-Intermediate-Representations" class="headerlink" title="Visualizing Intermediate Representations"></a>Visualizing Intermediate Representations</h2><p>å°†ä¸­é—´ç»“æœå¯è§†åŒ–ï¼Œå¯ä»¥æŸ¥çœ‹å„ç§ç‰¹å¾ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span>   tensorflow.keras.preprocessing.image <span class="keyword">import</span> img_to_array, load_img</span><br><span class="line"></span><br><span class="line"><span class="comment"># Let's define a new Model that will take an image as input, and will output</span></span><br><span class="line"><span class="comment"># intermediate representations for all layers in the previous model after</span></span><br><span class="line"><span class="comment"># the first.</span></span><br><span class="line">successive_outputs = [layer.output <span class="keyword">for</span> layer <span class="keyword">in</span> model.layers[<span class="number">1</span>:]]</span><br><span class="line"></span><br><span class="line"><span class="comment">#visualization_model = Model(img_input, successive_outputs)</span></span><br><span class="line">visualization_model = tf.keras.models.Model(inputs = model.input, outputs = successive_outputs)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Let's prepare a random input image of a cat or dog from the training set.</span></span><br><span class="line">cat_img_files = [os.path.join(train_cats_dir, f) <span class="keyword">for</span> f <span class="keyword">in</span> train_cat_fnames]</span><br><span class="line">dog_img_files = [os.path.join(train_dogs_dir, f) <span class="keyword">for</span> f <span class="keyword">in</span> train_dog_fnames]</span><br><span class="line"></span><br><span class="line">img_path = random.choice(cat_img_files + dog_img_files)</span><br><span class="line">img = load_img(img_path, target_size=(<span class="number">150</span>, <span class="number">150</span>))  <span class="comment"># this is a PIL image</span></span><br><span class="line"></span><br><span class="line">x   = img_to_array(img)                           <span class="comment"># Numpy array with shape (150, 150, 3)</span></span><br><span class="line">x   = x.reshape((<span class="number">1</span>,) + x.shape)                   <span class="comment"># Numpy array with shape (1, 150, 150, 3)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Rescale by 1/255</span></span><br><span class="line">x /= <span class="number">255.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Let's run our image through our network, thus obtaining all</span></span><br><span class="line"><span class="comment"># intermediate representations for this image.</span></span><br><span class="line">successive_feature_maps = visualization_model.predict(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># These are the names of the layers, so can have them as part of our plot</span></span><br><span class="line">layer_names = [layer.name <span class="keyword">for</span> layer <span class="keyword">in</span> model.layers]</span><br><span class="line"></span><br><span class="line"><span class="comment"># -----------------------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Now let's display our representations</span></span><br><span class="line"><span class="comment"># -----------------------------------------------------------------------</span></span><br><span class="line"><span class="keyword">for</span> layer_name, feature_map <span class="keyword">in</span> zip(layer_names, successive_feature_maps):</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> len(feature_map.shape) == <span class="number">4</span>:</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#-------------------------------------------</span></span><br><span class="line">    <span class="comment"># Just do this for the conv / maxpool layers, not the fully-connected layers</span></span><br><span class="line">    <span class="comment">#-------------------------------------------</span></span><br><span class="line">    n_features = feature_map.shape[<span class="number">-1</span>]  <span class="comment"># number of features in the feature map</span></span><br><span class="line">    size       = feature_map.shape[ <span class="number">1</span>]  <span class="comment"># feature map shape (1, size, size, n_features)</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># We will tile our images in this matrix</span></span><br><span class="line">    display_grid = np.zeros((size, size * n_features))</span><br><span class="line">    </span><br><span class="line">    <span class="comment">#-------------------------------------------------</span></span><br><span class="line">    <span class="comment"># Postprocess the feature to be visually palatable</span></span><br><span class="line">    <span class="comment">#-------------------------------------------------</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n_features):</span><br><span class="line">      x  = feature_map[<span class="number">0</span>, :, :, i]</span><br><span class="line">      x -= x.mean()</span><br><span class="line">      x /= x.std ()</span><br><span class="line">      x *=  <span class="number">64</span></span><br><span class="line">      x += <span class="number">128</span></span><br><span class="line">      x  = np.clip(x, <span class="number">0</span>, <span class="number">255</span>).astype(<span class="string">'uint8'</span>)</span><br><span class="line">      display_grid[:, i * size : (i + <span class="number">1</span>) * size] = x <span class="comment"># Tile each filter into a horizontal grid</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#-----------------</span></span><br><span class="line">    <span class="comment"># Display the grid</span></span><br><span class="line">    <span class="comment">#-----------------</span></span><br><span class="line"></span><br><span class="line">    scale = <span class="number">20.</span> / n_features</span><br><span class="line">    plt.figure( figsize=(scale * n_features, scale) )</span><br><span class="line">    plt.title ( layer_name )</span><br><span class="line">    plt.grid  ( <span class="literal">False</span> )</span><br><span class="line">    plt.imshow( display_grid, aspect=<span class="string">'auto'</span>, cmap=<span class="string">'viridis'</span> )</span><br></pre></td></tr></table></figure>

<pre><code>D:\Anaconda\anaconda\envs\tf2.0\lib\site-packages\ipykernel_launcher.py:55: RuntimeWarning: invalid value encountered in true_divide</code></pre><p><img src="output_17_1.png" alt="png"></p>
<p><img src="output_17_2.png" alt="png"></p>
<p><img src="output_17_3.png" alt="png"></p>
<p><img src="output_17_4.png" alt="png"></p>
<p><img src="output_17_5.png" alt="png"></p>
<h2 id="Evaluating-Accuracy-and-Loss-for-the-Model"><a href="#Evaluating-Accuracy-and-Loss-for-the-Model" class="headerlink" title="Evaluating Accuracy and Loss for the Model"></a>Evaluating Accuracy and Loss for the Model</h2><p>å°†è®­ç»ƒé›†/éªŒè¯é›†çš„æ­£ç¡®ç‡/æŸå¤±ç‡å¯è§†åŒ–ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line"><span class="comment"># Retrieve a list of list results on training and test data</span></span><br><span class="line"><span class="comment"># sets for each training epoch</span></span><br><span class="line"><span class="comment">#-----------------------------------------------------------</span></span><br><span class="line">acc      = history.history[     <span class="string">'accuracy'</span> ]</span><br><span class="line">val_acc  = history.history[ <span class="string">'val_accuracy'</span> ]</span><br><span class="line">loss     = history.history[    <span class="string">'loss'</span> ]</span><br><span class="line">val_loss = history.history[<span class="string">'val_loss'</span> ]</span><br><span class="line"></span><br><span class="line">epochs   = range(len(acc)) <span class="comment"># Get number of epochs</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#------------------------------------------------</span></span><br><span class="line"><span class="comment"># Plot training and validation accuracy per epoch</span></span><br><span class="line"><span class="comment">#------------------------------------------------</span></span><br><span class="line">plt.plot  ( epochs,     acc )</span><br><span class="line">plt.plot  ( epochs, val_acc )</span><br><span class="line">plt.title (<span class="string">'Training and validation accuracy'</span>)</span><br><span class="line">plt.figure()</span><br><span class="line"></span><br><span class="line"><span class="comment">#------------------------------------------------</span></span><br><span class="line"><span class="comment"># Plot training and validation loss per epoch</span></span><br><span class="line"><span class="comment">#------------------------------------------------</span></span><br><span class="line">plt.plot  ( epochs,     loss )</span><br><span class="line">plt.plot  ( epochs, val_loss )</span><br><span class="line">plt.title (<span class="string">'Training and validation loss'</span>   )</span><br></pre></td></tr></table></figure>




<pre><code>Text(0.5, 1.0, &apos;Training and validation loss&apos;)</code></pre><p><img src="output_19_1.png" alt="png"></p>
<p><img src="output_19_2.png" alt="png"></p>
<p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œäº§ç”Ÿäº†è¿‡æ‹Ÿåˆé—®é¢˜ï¼Œè®­ç»ƒé›†çš„æ­£ç¡®ç‡æ¥è¿‘100%ï¼Œç„¶è€ŒéªŒè¯é›†æ­£ç¡®ç‡ä¸‹é™è‡³70%ã€‚  </p>
<p>ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ ·æœ¬é‡ç›¸å¯¹è¾ƒå°ï¼ˆ2000ä»½ï¼‰ï¼Œè¿‡æ‹Ÿåˆä¼šæˆä¸ºä¸€ä¸ªé—®é¢˜ã€‚å½“ä¸€ä¸ªæ¨¡å‹æ¥å—äº†è¾ƒå°çš„æ ·æœ¬é‡ï¼Œå´æ²¡æœ‰é€‚åº”æ–°æ•°æ®æ—¶ï¼Œä¼šå‘ç”Ÿè¿‡æ‹Ÿåˆé—®é¢˜ã€‚å› ä¸ºæ¨¡å‹ä¼šå¼€å§‹ä½¿ç”¨ä¸ç›¸å…³çš„ç‰¹å¾è¿›è¡Œé¢„æµ‹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ ä½œä¸ºä¸€ä¸ªäººç±»ï¼Œåªçœ‹åˆ°ä¸‰ä¸ªä¼æœ¨å·¥äººçš„å½¢è±¡å’Œä¸‰ä¸ªæ°´æ‰‹çš„å½¢è±¡ï¼Œå…¶ä¸­å”¯ä¸€ä¸€ä¸ªæˆ´å¸½å­çš„æ˜¯ä¼æœ¨å·¥äººï¼Œä½ å¯èƒ½ä¼šå¼€å§‹è®¤ä¸ºæˆ´å¸½å­æ˜¯ä¸€ä¸ªä¼æœ¨å·¥äººçš„æ ‡å¿—ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªæ°´æ‰‹ã€‚ç„¶åä½ ä¼šåšå‡ºä¸€ä¸ªç›¸å½“ç³Ÿç³•çš„ä¼æœ¨å·¥äºº/æ°´æ‰‹åˆ†ç±»å™¨ã€‚  </p>
<p>è¿‡åº¦æ‹Ÿåˆæ˜¯æœºå™¨å­¦ä¹ ä¸­çš„æ ¸å¿ƒé—®é¢˜ï¼šæ—¢ç„¶æˆ‘ä»¬æ­£åœ¨å°†æ¨¡å‹çš„å‚æ•°æ‹Ÿåˆåˆ°ç»™å®šçš„æ•°æ®é›†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•ç¡®ä¿æ¨¡å‹å­¦ä¹ åˆ°çš„è¡¨ç¤ºå°†é€‚ç”¨äºä»æœªè§è¿‡çš„æ•°æ®ï¼Ÿæˆ‘ä»¬å¦‚ä½•é¿å…å­¦ä¹ åŸºäºç‰¹å®šè®­ç»ƒé›†çš„ä¸œè¥¿ï¼Ÿ</p>
<p>åœ¨ä¸‹ä¸€ä¸ªç»ƒä¹ ä¸­ï¼Œæˆ‘ä»¬å°†ç ”ç©¶å¦‚ä½•åœ¨çŒ«ä¸ç‹—çš„åˆ†ç±»æ¨¡å‹ä¸­é˜²æ­¢è¿‡åº¦æ‹Ÿåˆã€‚</p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Tensorflow-2-0/" rel="tag">Tensorflow 2.0</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-æ™ºèƒ½äº¤é€šè½¯ä»¶" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/08/31/%E6%99%BA%E8%83%BD%E4%BA%A4%E9%80%9A%E8%BD%AF%E4%BB%B6/"
    >æ™ºèƒ½äº¤é€šè½¯ä»¶</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/08/31/%E6%99%BA%E8%83%BD%E4%BA%A4%E9%80%9A%E8%BD%AF%E4%BB%B6/" class="article-date">
  <time datetime="2020-08-31T07:59:06.000Z" itemprop="datePublished">2020-08-31</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h1 id="Intelligent-Traffic-Scene"><a href="#Intelligent-Traffic-Scene" class="headerlink" title="Intelligent-Traffic-Scene"></a>Intelligent-Traffic-Scene</h1><h1 id="äº¤é€šåœºæ™¯æ™ºèƒ½åº”ç”¨è½¯ä»¶"><a href="#äº¤é€šåœºæ™¯æ™ºèƒ½åº”ç”¨è½¯ä»¶" class="headerlink" title="äº¤é€šåœºæ™¯æ™ºèƒ½åº”ç”¨è½¯ä»¶"></a>äº¤é€šåœºæ™¯æ™ºèƒ½åº”ç”¨è½¯ä»¶</h1><p><a href="https://github.com/Gengarrr/Intelligent-Traffic-Scene" target="_blank" rel="noopener">Githubæºç </a></p>
<h2 id="1ï¸âƒ£-åŠŸèƒ½åˆ—è¡¨"><a href="#1ï¸âƒ£-åŠŸèƒ½åˆ—è¡¨" class="headerlink" title="1ï¸âƒ£ åŠŸèƒ½åˆ—è¡¨"></a>1ï¸âƒ£ åŠŸèƒ½åˆ—è¡¨</h2><p>âœ… åˆ©ç”¨YOLOv3å®ç°è½¦è¾†ã€è¡Œäººã€çº¢ç»¿ç¯æ£€æµ‹<br>âœ… åˆ©ç”¨HSVåŸç†æ£€æµ‹çº¢ç»¿ç¯é¢œè‰²<br>âœ… åˆ©ç”¨HyperLPRå®ç°è½¦ç‰Œæ£€æµ‹<br>âœ… ç›®æ ‡åˆ†ç±»ç»Ÿè®¡ã€è·¯æ®µè½¦æµé‡ç»Ÿè®¡ï¼Œå¹¶å°†ç»“æœå­˜å‚¨åœ¨Excelæ–‡ä»¶ä¸­<br>â­• æ›´å¤šé«˜çº§çš„è¡Œä¸ºè¯†åˆ«åŠŸèƒ½ç­‰å¾…å¼€å‘â€¦â€¦  </p>
<h2 id="2ï¸âƒ£-æºç è¯´æ˜"><a href="#2ï¸âƒ£-æºç è¯´æ˜" class="headerlink" title="2ï¸âƒ£ æºç è¯´æ˜"></a>2ï¸âƒ£ æºç è¯´æ˜</h2><p>é€šè¿‡Anacondaå»ºç«‹è™šæ‹Ÿç¯å¢ƒï¼Œcdè‡³é¡¹ç›®ç›®å½•ä¸‹ï¼Œåˆ©ç”¨<code>requirements.txt</code>æ–‡ä»¶å®‰è£…æ‰€éœ€ç¯å¢ƒã€‚  </p>
<pre><code>pip install -r requirements.txt</code></pre><p>è¿è¡Œ<code>Video_Player.py</code>æ–‡ä»¶ï¼Œæ˜¾ç¤ºè½¯ä»¶ä¸»ç•Œé¢ã€‚</p>
<pre><code>python Video_Player.py</code></pre><h3 id="Video-Player-py"><a href="#Video-Player-py" class="headerlink" title="Video_Player.py"></a><code>Video_Player.py</code></h3><p>Pyqt5çš„è½¯ä»¶ç•Œé¢ã€‚</p>
<h3 id="Traffic-Scene-Detection-py"><a href="#Traffic-Scene-Detection-py" class="headerlink" title="Traffic_Scene_Detection.py"></a><code>Traffic_Scene_Detection.py</code></h3><p>ç¨‹åºä¸»è¦æ–‡ä»¶ï¼Œè¿›è¡Œè¯»å–è§†é¢‘ï¼Œç›®æ ‡æ£€æµ‹è¯†åˆ«ã€‚</p>
<h3 id="utils-py"><a href="#utils-py" class="headerlink" title="utils.py"></a><code>utils.py</code></h3><p>ä¿å­˜å„ç§å¯¹å½“å‰å¸§è¿›è¡Œçš„æ“ä½œã€‚</p>
<h2 id="3ï¸âƒ£-è½¯ä»¶ä½¿ç”¨è¯´æ˜"><a href="#3ï¸âƒ£-è½¯ä»¶ä½¿ç”¨è¯´æ˜" class="headerlink" title="3ï¸âƒ£ è½¯ä»¶ä½¿ç”¨è¯´æ˜"></a>3ï¸âƒ£ è½¯ä»¶ä½¿ç”¨è¯´æ˜</h2><p><img src="https://s1.ax1x.com/2020/08/31/dOKwh8.png" alt="dOKwh8.png"></p>
<p>è¿è¡Œç¨‹åºåï¼Œä¸»ç•Œé¢å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œä¸­é—´ç•Œé¢ä¸ºè§†é¢‘æ’­æ”¾åŒºåŸŸï¼Œä¸‹æ–¹ä¾æ¬¡ä¸ºï¼š<br>â‘  å·¥å…·å›¾æ ‡ï¼šé€‰æ‹©è§†é¢‘æ–‡ä»¶è¿›è¡Œè¯†åˆ«æ£€æµ‹å¤„ç†ï¼›<br>â‘¡ æ–‡ä»¶å¤¹å›¾æ ‡ï¼šé€‰æ‹©è§†é¢‘æ–‡ä»¶è¿›è¡Œæ’­æ”¾ï¼›<br>â‘¢ ç®­å¤´å›¾æ ‡åŠè¿›åº¦æ¡ï¼šæ’­æ”¾/æš‚åœé”®ï¼Œå³ä¾§ä¸ºè§†é¢‘æ’­æ”¾è¿›åº¦æ¡ã€‚  </p>
<p>ç•Œé¢æœ€ä¸‹æ–¹ä¸ºå½“å‰çŠ¶æ€æç¤ºä¿¡æ¯ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¾ç¤ºä¿¡æ¯å¦‚å›¾æ‰€ç¤ºã€‚ä½¿ç”¨å¤„ç†æŒ‰é’®é€‰ä¸­æ–‡ä»¶ä»¥åï¼Œç¨‹åºè¿›å…¥å¤„ç†çŠ¶æ€ï¼Œæ­¤æ—¶æç¤ºä¿¡æ¯ä¼šå˜ä¸º<code>è§†é¢‘å¤„ç†ä¸­ï¼Œè¯·è€å¿ƒç­‰å¾…ã€‚</code>ã€‚è§†é¢‘å¤„ç†å®Œæ¯•ï¼Œç»“æœè§†é¢‘å°†è‡ªåŠ¨ä¿å­˜ï¼Œæç¤ºä¿¡æ¯ä¸º<code>ç»“æœå·²å­˜æ”¾äº: +&quot;å­˜æ”¾è·¯å¾„&quot;</code>ã€‚</p>
<h2 id="4ï¸âƒ£-è½¯ä»¶æˆªå›¾"><a href="#4ï¸âƒ£-è½¯ä»¶æˆªå›¾" class="headerlink" title="4ï¸âƒ£ è½¯ä»¶æˆªå›¾"></a>4ï¸âƒ£ è½¯ä»¶æˆªå›¾</h2><p><a href="https://imgchr.com/i/dOGFEj" target="_blank" rel="noopener"><img src="https://s1.ax1x.com/2020/08/31/dOGFEj.png" alt="dOGFEj.png"></a></p>
<h2 id="5ï¸âƒ£-ç¼–å†™è¿‡ç¨‹ä¸­ä½¿ç”¨çš„å¼€æºä»£ç -æ•™ç¨‹"><a href="#5ï¸âƒ£-ç¼–å†™è¿‡ç¨‹ä¸­ä½¿ç”¨çš„å¼€æºä»£ç -æ•™ç¨‹" class="headerlink" title="5ï¸âƒ£ ç¼–å†™è¿‡ç¨‹ä¸­ä½¿ç”¨çš„å¼€æºä»£ç /æ•™ç¨‹"></a>5ï¸âƒ£ ç¼–å†™è¿‡ç¨‹ä¸­ä½¿ç”¨çš„å¼€æºä»£ç /æ•™ç¨‹</h2><p>ğŸš© <a href="https://github.com/zeusees/HyperLPR" target="_blank" rel="noopener">HyperLPRé«˜æ€§èƒ½è½¦ç‰Œæ£€æµ‹</a><br>ğŸš© <a href="https://www.bilibili.com/video/BV1r5411t7Db" target="_blank" rel="noopener">YOLOv3å®‰è£…æ•™ç¨‹</a><br>ğŸš© <a href="https://www.bilibili.com/video/BV1oJ411D71z" target="_blank" rel="noopener">OpenCVæ•™ç¨‹</a></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Project/" rel="tag">Project</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-äºŒå‰æœç´¢æ ‘-å¢åˆ æ”¹æŸ¥(Python)" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/07/08/%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91-%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5(Python)/"
    >äºŒå‰æœç´¢æ ‘-å¢åˆ æ”¹æŸ¥(Python)</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/07/08/%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91-%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5(Python)/" class="article-date">
  <time datetime="2020-07-08T09:00:04.000Z" itemprop="datePublished">2020-07-08</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h3 id="01-å®šä¹‰"><a href="#01-å®šä¹‰" class="headerlink" title="01 å®šä¹‰"></a>01 å®šä¹‰</h3><p>é¦–å…ˆå®šä¹‰äºŒå‰æ ‘ç»“ç‚¹çš„æ•°æ®ç±»å‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span><span class="params">()</span>:</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, val, left=None, right=None)</span>:</span></span><br><span class="line">		self.val = val</span><br><span class="line">		self.left = left</span><br><span class="line">		self.right = right</span><br></pre></td></tr></table></figure>
<p>äºŒå‰æœç´¢æ ‘çš„å®šä¹‰ï¼š<br><code>äºŒå‰æœç´¢æ ‘ï¼ˆBSTï¼‰</code>æ˜¯äºŒå‰æ ‘çš„ä¸€ç§ç‰¹æ®Šè¡¨ç¤ºå½¢å¼ï¼Œå®ƒæ»¡è¶³å¦‚ä¸‹ç‰¹æ€§ï¼š</p>
<p>æ¯ä¸ªèŠ‚ç‚¹ä¸­çš„å€¼å¿…é¡»<code>å¤§äº</code>ï¼ˆæˆ–ç­‰äºï¼‰å­˜å‚¨åœ¨å…¶å·¦ä¾§å­æ ‘ä¸­çš„ä»»ä½•å€¼ã€‚<br>æ¯ä¸ªèŠ‚ç‚¹ä¸­çš„å€¼å¿…é¡»<code>å°äº</code>ï¼ˆæˆ–ç­‰äºï¼‰å­˜å‚¨åœ¨å…¶å³å­æ ‘ä¸­çš„ä»»ä½•å€¼ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªäºŒå‰æœç´¢æ ‘çš„ä¾‹å­ï¼š</p>
<img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9hbGl5dW4tbGMtdXBsb2FkLm9zcy1jbi1oYW5nemhvdS5hbGl5dW5jcy5jb20vYWxpeXVuLWxjLXVwbG9hZC91cGxvYWRzLzIwMTgvMDMvMTQvYnN0X2V4YW1wbGUtYTEucG5n?x-oss-process=image/format,png#pic_center" width="50%">

<h3 id="02-å¢æ“ä½œ"><a href="#02-å¢æ“ä½œ" class="headerlink" title="02 å¢æ“ä½œ"></a>02 å¢æ“ä½œ</h3><p>å¢åŠ æ“ä½œæœ¬è´¨ä¸Šä¸äºŒå‰æ ‘çš„éå†æ“ä½œå¹¶æ— åŒºåˆ«ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryTree</span><span class="params">()</span>:</span></span><br><span class="line">	<span class="comment"># æ’å…¥æ“ä½œï¼ˆå¢ï¼‰</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">insert</span><span class="params">(self, root, val)</span>:</span></span><br><span class="line">		<span class="keyword">if</span> root == <span class="literal">None</span>:</span><br><span class="line">			root = TreeNode(val)</span><br><span class="line">		<span class="keyword">elif</span> val &lt; root.val:</span><br><span class="line">			root.left = self.insert(root.left, val)</span><br><span class="line">		<span class="keyword">elif</span> val &gt; root.val:</span><br><span class="line">			root.right = self.insert(root.right, val)</span><br><span class="line">		<span class="keyword">return</span> root</span><br></pre></td></tr></table></figure>
<h3 id="03-åˆ æ“ä½œ"><a href="#03-åˆ æ“ä½œ" class="headerlink" title="03 åˆ æ“ä½œ"></a>03 åˆ æ“ä½œ</h3><p>åˆ é™¤æ“ä½œå¤æ‚ä¸€äº›ï¼Œæ ¹æ®å­èŠ‚ç‚¹çš„ä¸ªæ•°ï¼Œéœ€è¦è€ƒè™‘å¦‚ä¸‹ä¸‰ç§æƒ…å†µï¼š</p>
<ol>
<li>å¦‚æœç›®æ ‡èŠ‚ç‚¹<strong>æ²¡æœ‰å­èŠ‚ç‚¹</strong>ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç§»é™¤è¯¥ç›®æ ‡èŠ‚ç‚¹ã€‚</li>
<li>å¦‚æœç›®æ ‡èŠ‚<strong>åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹</strong>ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å…¶å­èŠ‚ç‚¹ä½œä¸ºæ›¿æ¢ã€‚</li>
<li>å¦‚æœç›®æ ‡èŠ‚ç‚¹<strong>æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹</strong>ï¼Œæˆ‘ä»¬éœ€è¦ç”¨å…¶ä¸­åºåç»§èŠ‚ç‚¹æˆ–è€…å‰é©±èŠ‚ç‚¹æ¥æ›¿æ¢ï¼Œå†åˆ é™¤è¯¥ç›®æ ‡èŠ‚ç‚¹ã€‚<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ é™¤æ“ä½œï¼ˆåˆ ï¼‰</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">delete</span><span class="params">(self, root, key)</span>:</span></span><br><span class="line">		<span class="keyword">if</span> root == <span class="literal">None</span>:</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">		<span class="keyword">if</span> root.val == key:</span><br><span class="line">			<span class="keyword">if</span> root.left==<span class="literal">None</span> <span class="keyword">and</span> root.right==<span class="literal">None</span>:</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">			<span class="keyword">elif</span> root.left!=<span class="literal">None</span> <span class="keyword">and</span> root.right!=<span class="literal">None</span>:</span><br><span class="line">				<span class="comment"># bufferç”¨äºå­˜æ”¾è¦æ›¿æ¢èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹,tmpæ˜¯è¦æ›¿æ¢çš„èŠ‚ç‚¹</span></span><br><span class="line">				buffer = <span class="literal">None</span></span><br><span class="line">				temp = root.right</span><br><span class="line">				<span class="keyword">while</span> temp.left:</span><br><span class="line">					buffer = temp</span><br><span class="line">					temp = temp.left</span><br><span class="line">				root.val, temp.val = temp.val, root.val</span><br><span class="line">				<span class="keyword">if</span> buffer == <span class="literal">None</span>:</span><br><span class="line">					root.right = self.delete(temp, key)</span><br><span class="line">				<span class="keyword">else</span>:</span><br><span class="line">					buffer.left = self.delete(buffer, key)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">			<span class="keyword">elif</span> root.left == <span class="literal">None</span>:</span><br><span class="line">				root = root.right</span><br><span class="line">			<span class="keyword">elif</span> root.right == <span class="literal">None</span>:</span><br><span class="line">				root = root.left</span><br><span class="line"></span><br><span class="line">		<span class="keyword">elif</span> root.val &gt; key:</span><br><span class="line">			root.left = self.delete(root.left, key)</span><br><span class="line">		<span class="keyword">elif</span> root.val &lt; key:</span><br><span class="line">			root.right = self.delete(root.right, key)</span><br><span class="line"></span><br><span class="line">		<span class="keyword">return</span> root</span><br></pre></td></tr></table></figure>
<h3 id="04-æ”¹æ“ä½œ"><a href="#04-æ”¹æ“ä½œ" class="headerlink" title="04 æ”¹æ“ä½œ"></a>04 æ”¹æ“ä½œ</h3>è¿™é‡Œçš„ä¿®æ”¹æ“ä½œä»…ä»…å¯¹ç»“ç‚¹å€¼è¿›è¡Œäº†ä¿®æ”¹ï¼Œä¿®æ”¹å®Œä»¥åå¹¶æ²¡æœ‰ç»´æŠ¤äºŒå‰æœç´¢æ ‘çš„æ€§è´¨ï¼Œåç»­è¿˜å¯ä»¥è¿›ä¸€æ­¥æ”¹è¿›ã€‚<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹æ“ä½œï¼ˆæ”¹ï¼‰</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">modify</span><span class="params">(self, root, val, new_val)</span>:</span></span><br><span class="line">		<span class="keyword">if</span> root == <span class="literal">None</span>:</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">		<span class="keyword">elif</span> root.val &gt; val:</span><br><span class="line">			<span class="keyword">return</span> self.modify(root.left, val, new_val)</span><br><span class="line">		<span class="keyword">elif</span> root.val &lt; val:</span><br><span class="line">			<span class="keyword">return</span> self.modify(root.right, val, new_val)</span><br><span class="line">		<span class="keyword">elif</span> root.val == val:</span><br><span class="line">			root.val = new_val</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<h3 id="04-æŸ¥æ“ä½œ"><a href="#04-æŸ¥æ“ä½œ" class="headerlink" title="04 æŸ¥æ“ä½œ"></a>04 æŸ¥æ“ä½œ</h3></li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥æ‰¾æ“ä½œï¼ˆæŸ¥ï¼‰</span></span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">search</span><span class="params">(self, root, val)</span>:</span></span><br><span class="line">		<span class="keyword">if</span> root == <span class="literal">None</span>:</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">		<span class="keyword">elif</span> root.val &gt; val:</span><br><span class="line">			<span class="keyword">return</span> self.search(root.left, val)</span><br><span class="line">		<span class="keyword">elif</span> root.val &lt; val:</span><br><span class="line">			<span class="keyword">return</span> self.search(root.right, val)</span><br><span class="line">		<span class="keyword">elif</span> root.val == val:</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>



      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Data-Structure/" rel="tag">Data Structure</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-hello-world" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/05/07/hello-world/"
    >Hello World</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/05/07/hello-world/" class="article-date">
  <time datetime="2020-05-07T00:51:08.362Z" itemprop="datePublished">2020-05-07</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      


      

      
      <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      

    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Leetcode-2-ä¸¤æ•°ç›¸åŠ " class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/09/Leetcode-2-%E4%B8%A4%E6%95%B0%E7%9B%B8%E5%8A%A0/"
    >Leetcode#2 ä¸¤æ•°ç›¸åŠ </a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/09/Leetcode-2-%E4%B8%A4%E6%95%B0%E7%9B%B8%E5%8A%A0/" class="article-date">
  <time datetime="2020-04-09T04:11:50.000Z" itemprop="datePublished">2020-04-09</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h3 id="ä¸¤æ•°ç›¸åŠ "><a href="#ä¸¤æ•°ç›¸åŠ " class="headerlink" title="ä¸¤æ•°ç›¸åŠ "></a>ä¸¤æ•°ç›¸åŠ </h3><img src='https://s1.ax1x.com/2020/04/09/G43d76.png' width=80%>   


<h3 id="æ€è·¯åˆ†æ"><a href="#æ€è·¯åˆ†æ" class="headerlink" title="æ€è·¯åˆ†æ"></a>æ€è·¯åˆ†æ</h3><p>é“¾è¡¨çš„é€†åºæ’åˆ—æœ¬èº«å°±ç¬¦åˆåŠ æ³•ä»ä½ä½è¿ç®—è‡³é«˜ä½çš„è§„åˆ™ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦é¡ºåºéå†é“¾è¡¨ï¼ŒåŒæ—¶è®°å½•ä¸‹è¿›ä½å³å¯ã€‚        </p>
<h3 id="é“¾è¡¨çš„éå†"><a href="#é“¾è¡¨çš„éå†" class="headerlink" title="é“¾è¡¨çš„éå†"></a>é“¾è¡¨çš„éå†</h3><p>è¿™é‡Œæœ‰ä¸€ä¸ªçŸ¥è¯†ç‚¹æ˜¯å…³äºé“¾è¡¨çš„éå†é—®é¢˜ã€‚åœ¨struct ListNodeä¸­æœ‰è¿™æ ·ä¸€å¥ï¼š ListNode(int x) : val(x), next(NULL) {}ï¼Œè¿™è¡¨æ˜åˆå§‹åŒ–æ”¯æŒ ListNodeï¼ˆint xï¼‰è¿™ç§æ–¹å¼ï¼Œå³ æŠŠxèµ‹ç»™valï¼ŒNULLèµ‹å€¼ç»™nextã€‚</p>
<p>åœ¨éå†çš„åŒæ—¶ï¼Œé¦–å…ˆå®šä¹‰ä¸€ä¸ªå¤´ç»“ç‚¹newHead,åŒæ—¶å®šä¹‰ä¸€ä¸ªnownodeç”¨æ¥æŒ‡å‘å½“å‰æ“ä½œçš„ç»“ç‚¹ã€‚</p>
<h3 id="C-ä»£ç "><a href="#C-ä»£ç " class="headerlink" title="C++ä»£ç "></a>C++ä»£ç </h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">struct ListNode &#123;</span><br><span class="line">    int val;</span><br><span class="line">    ListNode *next;</span><br><span class="line">    ListNode(int x) : val(x), next(NULL) &#123;&#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Solution &#123;</span><br><span class="line">public:</span><br><span class="line">    ListNode* addTwoNumbers(ListNode* l1, ListNode* l2) &#123;</span><br><span class="line">        int carry &#x3D; 0; &#x2F;&#x2F;è®°å½•è¿›ä½</span><br><span class="line">        int sum &#x3D; 0; &#x2F;&#x2F;è®°å½•å½“å‰ä½å’Œ</span><br><span class="line">        ListNode* newhead &#x3D; new ListNode(0);</span><br><span class="line">        ListNode* nownode &#x3D; newhead;</span><br><span class="line"></span><br><span class="line">        while (l1 || l2 || carry)</span><br><span class="line">        &#123;</span><br><span class="line">            sum &#x3D; carry;</span><br><span class="line">            if (l1) sum +&#x3D; l1-&gt;val;</span><br><span class="line">            if (l2) sum +&#x3D; l2-&gt;val;</span><br><span class="line">            carry &#x3D; sum&#x2F;10;</span><br><span class="line">            sum %&#x3D; 10;</span><br><span class="line">            nownode-&gt;val &#x3D; sum;</span><br><span class="line"></span><br><span class="line">            ListNode* nextnode &#x3D; new ListNode(0);</span><br><span class="line">            nownode-&gt;next &#x3D; nextnode;</span><br><span class="line">            l1 &#x3D; l1?l1-&gt;next:nullptr;</span><br><span class="line">            l2 &#x3D; l2?l2-&gt;next:nullptr;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        return newhead;</span><br><span class="line">    &#125;      </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Data-Structure/" rel="tag">Data Structure</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-experiment-CM-1" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/04/05/experiment-CM-1/"
    >experiment-CM-1</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/04/05/experiment-CM-1/" class="article-date">
  <time datetime="2020-04-05T03:59:06.000Z" itemprop="datePublished">2020-04-05</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h3 id="0x01-åˆæ­¥æŸ¥çœ‹"><a href="#0x01-åˆæ­¥æŸ¥çœ‹" class="headerlink" title="0x01 åˆæ­¥æŸ¥çœ‹"></a>0x01 åˆæ­¥æŸ¥çœ‹</h3><p>é¦–å…ˆä½¿ç”¨PeiDæŸ¥çœ‹ï¼Œæ— å£³ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200405114644986.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ‰“å¼€CMï¼ŒæŸ¥çœ‹serialè¾“å…¥å¤„ï¼Œç‚¹å‡»Check itå¹¶æ²¡æœ‰å‡ºç°ä»»ä½•æç¤ºæ¡†ï¼Œå¹¶ä¸”å‘ç°ä»»ä½•é™¤æ•°å­—å¤–çš„å­—ç¬¦éƒ½æ— æ³•è¾“å…¥ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200405114713736.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å°†CMæ‹–å…¥ODä¸­ï¼Œåˆ©ç”¨æŸ¥æ‰¾ä¸­æ–‡å­—ç¬¦ä¸²æ’ä»¶æ‰¾åˆ°æœ€ç»ˆåˆ¤æ–­æ¡ä»¶å¤„ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200405114740647.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>è¿™é‡Œæ˜¯æœ€ç»ˆåˆ¤æ–­æ¡ä»¶ï¼Œeaxå’Œesiç›¸ç­‰åˆ™å¾—åˆ°æ­£ç¡®ç­”æ¡ˆã€‚ç°åœ¨è¦åšçš„å°±æ˜¯æ¢å¯»eaxå’Œesiåˆ†åˆ«æ˜¯å¦‚ä½•å¾—åˆ°çš„ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200405114808363.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h3 id="0x02-è¿›ä¸€æ­¥æ¢å¯»"><a href="#0x02-è¿›ä¸€æ­¥æ¢å¯»" class="headerlink" title="0x02 è¿›ä¸€æ­¥æ¢å¯»"></a>0x02 è¿›ä¸€æ­¥æ¢å¯»</h3><p>å°†æœ€ç»ˆåˆ¤æ–­æ¡ä»¶cmp eax,esiå’Œä¸Šæ–¹çš„experime.004013D2æ–­ä¸‹ï¼ŒæŒ‰f9è¿è¡Œã€‚<br>è¿›å…¥åˆ°004013D2å‡½æ•°ä¸­ï¼Œå‘ç°<br>æœ€ç»ˆè¿”å›çš„esi = è¿›å…¥å‡½æ•°å‰esiçš„å€¼ å¼‚æˆ–ä¸Š 0x797A7553ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200405114836259.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è€Œeaxå³ä¸ºè¾“å…¥çš„serialã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200405114854567.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>è‡³æ­¤æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œåªè¦çŸ¥é“äº†esiçš„ç”Ÿæˆè§„åˆ™ï¼Œä¾¿å¯ä»¥å®Œæˆç ´è§£ã€‚</p>
<h3 id="0x03-esiçš„ç”Ÿæˆè§„åˆ™"><a href="#0x03-esiçš„ç”Ÿæˆè§„åˆ™" class="headerlink" title="0x03 esiçš„ç”Ÿæˆè§„åˆ™"></a>0x03 esiçš„ç”Ÿæˆè§„åˆ™</h3><p>é€šè¿‡å‘ä¸ŠæŸ¥çœ‹å¯ä»¥çœ‹åˆ°ï¼Œesiæ˜¯ç”±[0x40339C]æ‰€èµ‹å€¼çš„ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200405115617750.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è¿™é‡Œæˆ‘ä»¬é€šè¿‡IDAæ¥æŸ¥çœ‹[0x40339C]æ˜¯åœ¨å“ªé‡Œç”Ÿæˆçš„ï¼Œå¯ä»¥çœ‹åˆ°æ˜¯é€šè¿‡è°ƒç”¨VolumeNameBufferå‡½æ•°æ‰€å¾—åˆ°çš„ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200405115133832.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ç»§ç»­æŸ¥çœ‹VolumeNameBufferå‡½æ•°ï¼Œåœ¨è¿™é‡Œå¯ä»¥çœ‹åˆ°æ˜¯è°ƒç”¨0x0040142Cåœ°å€å¤„çš„GetVolumeInformationAå‡½æ•°ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200405115149659.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>è¿”å›ODåœ¨0x0040142Cå¤„è¿›è¡ŒæŸ¥çœ‹ï¼Œå¯ä»¥çœ‹åˆ°GetVolumeInformationAå‡½æ•°çš„ç»“æœæ˜¯â€Windowsâ€ã€‚åœ¨ç½‘ä¸ŠæŸ¥è¯¢åå¯ä»¥çœ‹åˆ°ï¼ŒGetVolumeInformationAå‡½æ•°çš„ä½œç”¨æ˜¯è·å–ç¡¬ç›˜ä¿¡æ¯ã€‚æ­¤æ—¶æˆ‘çš„exeå¤„äºCç›˜ï¼Œè€Œå½“æˆ‘å°†ä»–æ”¾åœ¨Dç›˜åï¼Œå¯ä»¥çœ‹åˆ°æ­¤æ—¶ç”Ÿæˆçš„ä¿¡æ¯å˜ä¸ºâ€DATAâ€ï¼Œåˆ†åˆ«ä¸æœ¬æœºCç›˜å’ŒDç›˜çš„åç§°ç›¸å¯¹åº”ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200405115248729.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>ç»§ç»­è¿è¡Œï¼Œå¯ä»¥çœ‹åˆ°ä¸‹æ–¹æ˜¯ä¸€æ®µå¾ªç¯ï¼Œå¾ªç¯åçš„ç»“æœå­˜æ”¾åœ¨ediä¸­ï¼Œæ­£æ˜¯åé¢æˆ‘ä»¬æŸ¥çœ‹åˆ°çš„æœ€åä¸€æ­¥â€œè¿›å…¥å‡½æ•°å‰esiçš„å€¼â€ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200405115329624.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è¿™é‡Œéœ€è¦è¯´æ˜ä¸€ä¸‹esiçš„â€Windowsâ€ä¸ecxçš„3éƒ½æ˜¯GetVolumeInformationAå‡½æ•°ä¸­å¾—åˆ°çš„ã€‚å…¶ä¸­3çš„è·å–å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200405115343538.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>æ¥ä¸‹æ¥å¯¹å…³é”®å‡½æ•°è¿›è¡Œåˆ†æï¼Œåˆ†æç»“æœåœ¨å³ä¾§ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200405115435501.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä½¿ç”¨C++è¿›è¡Œå¤ç°ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span>* Disk_name;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">long</span>* ebx;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> eax = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> edi = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">int</span> ecx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> i;</span><br><span class="line">    <span class="keyword">int</span> Disk_type = <span class="number">3</span>;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    Disk_name = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">10</span>];</span><br><span class="line">    <span class="built_in">memset</span>(Disk_name, <span class="number">0</span>, <span class="built_in">strlen</span>(Disk_name));</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"experiment-CM-1.exeæ‰€åœ¨ç£ç›˜çš„åç§°:"</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;Disk_name;</span><br><span class="line">   </span><br><span class="line">    ebx = (<span class="keyword">unsigned</span> <span class="keyword">long</span> *)&amp;Disk_name[<span class="number">0</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (ecx = Disk_type; ecx&gt;<span class="number">0</span>; ecx--)</span><br><span class="line">    &#123;</span><br><span class="line">        i = ecx;</span><br><span class="line">        i *= *ebx;</span><br><span class="line">        eax = i&amp;<span class="number">0xFFFFFFFF</span>;</span><br><span class="line">        edi += eax;</span><br><span class="line">    &#125;</span><br><span class="line">    edi ^= <span class="number">0x797A7553</span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>&lt;&lt;<span class="string">"Serial: "</span>&lt;&lt;edi&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    system(<span class="string">"pause:"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹å›¾ä¸ºæœ€ç»ˆç»“æœã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200405115536860.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p><img src="https://img-blog.csdnimg.cn/20200405115546923.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Reverse/" rel="tag">Reverse</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Crackme-3" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/23/Crackme-3/"
    >Crackme 3</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/03/23/Crackme-3/" class="article-date">
  <time datetime="2020-03-23T05:22:40.000Z" itemprop="datePublished">2020-03-23</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      


      

      
      <p>0x01 æŸ¥å£³<br>é¦–å…ˆç”¨PEiDè¿›è¡ŒæŸ¥å£³ï¼Œæ— å£³ï¼Œä½†æ˜¯æ‰¾åˆ°äº†CRC32çš„åŠ å¯†æ–¹å¼ï¼Œåé¢æœ‰å¯èƒ½ä¼šç”¨åˆ°ã€‚<br><img src="https://img-blog.csdnimg.cn/20200323000652844.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20200323000711225.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>0x02 åˆæ­¥åˆ†æ<br>å…ˆéšæ„è¾“å…¥Nameå’ŒCodeï¼Œå‘ç°å½“è¾“å…¥çš„Nameå°‘äºäº”ä¸ªå­—èŠ‚æ—¶åˆ™ä¸å¼¹çª—ï¼›å¤§äºç­‰äºäº”ä¸ªå­—èŠ‚æ‰ä¼šå¼¹å‡ºé”™è¯¯æç¤ºæ¡†ã€‚<br><img src="https://img-blog.csdnimg.cn/2020032300080751.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ç”¨ODæ‰“å¼€ç¨‹åºï¼Œä½¿ç”¨æ’ä»¶æœç´¢å­—ç¬¦ä¸²ï¼Œå¯ä»¥æ‰¾åˆ°æç¤ºæ³¨å†ŒæˆåŠŸçš„å­—æ ·ï¼ŒåŒå‡»è·Ÿå…¥ã€‚<br><img src="https://img-blog.csdnimg.cn/20200323000828748.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>åœ¨è¿™é‡Œå¯ä»¥çœ‹åˆ°å…³é”®è·³è½¬æ­¥éª¤ï¼Œç»è¿‡CM3.00404224å‡½æ•°åï¼Œesiä¸eaxçš„å€¼å¿…é¡»ç›¸ç­‰ï¼Œæ‰ä¼šæ˜¾ç¤ºæ³¨å†Œç æˆåŠŸã€‚ç»§ç»­å¾€ä¸ŠæŸ¥çœ‹ä¹‹å‰ï¼Œå…ˆå°†å…³é”®çš„CM3.00404224å‡½æ•°æ–­ä¸‹ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200323001053503.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åœ¨ä¸Šæ–¹æ‰¾åˆ°äº†GetWindowTextAå‡½æ•°ï¼Œä¼šå°†Nameçš„é•¿åº¦ä¸5è¿›è¡Œæ¯”è¾ƒï¼Œå¤§äºç­‰äº5æ‰èƒ½è¿›è¡Œä¸‹ä¸€æ­¥ã€‚<br><img src="https://img-blog.csdnimg.cn/20200323001109951.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æŒ‰f9è¿›è¡Œè¿è¡Œï¼ŒNameå’ŒCodeæŒ‰ç…§å¦‚ä¸‹å¡«å†™ï¼Œç‚¹å‡»Checkmeã€‚<br><img src="https://img-blog.csdnimg.cn/202003230013179.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä¼šå‘ç°ç¨‹åºè¢«æ–­åœ¨GetWindowTextAå‡½æ•°ä¸‹æ–¹ã€‚æŒ‰f8æ­¥æ­¥è·Ÿï¼Œå‘ç°ç»è¿‡CM3.00402ED0å‡½æ•°åï¼ŒNameé€šè¿‡[local.1]å±€éƒ¨å˜é‡è¢«èµ‹å€¼ç»™eaxï¼Œå˜ä¸ºDiKeNabcdeã€‚åœ¨å †æ ˆä¸­å¯ä»¥æŸ¥çœ‹åˆ°ã€‚<br><img src="https://img-blog.csdnimg.cn/20200323001339916.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ç»§ç»­è¿è¡Œï¼Œedx=0xAï¼ŒçŒœæƒ³è¿™é‡Œedxåº”è¯¥æ˜¯DiKeNabcdeçš„é•¿åº¦ï¼Œå³ä¿®æ”¹è¿‡åçš„Nameï¼ˆåé¢ç”¨nameä»£æ›¿ï¼‰çš„é•¿åº¦ï¼ŒåŒæ—¶eaxè¢«èµ‹å€¼ä¸ºå­˜å‚¨nameçš„å†…å­˜åœ°å€ã€‚<br><img src="https://img-blog.csdnimg.cn/2020032300143071.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20200323001440608.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>0x03 å…³é”®å‡½æ•°</p>
<p>æ¥ç€æŒ‰f9è¿è¡Œåï¼Œå‘ç°ç¨‹åºè¢«æ–­åœ¨CM3.00404224å‡½æ•°å¤„ï¼Œå¹¶ä¸”è¾“å…¥çš„Codeå˜ä¸º012345ï¼ˆåé¢ç”¨codeä»£æ›¿ï¼‰ï¼Œè€Œè¿›å…¥å‡½æ•°å‰esiä¸º0x5F9501CEï¼Œå¯ä»¥æƒ³åˆ°è¯¥å‡½æ•°ä¼šå¯¹codeè¿›è¡Œè¿ç®—å¤„ç†ï¼Œä»è€Œè¿›è¡Œæœ€ç»ˆåˆ¤æ–­ã€‚æŒ‰f7è¿›å…¥å‡½æ•°æŸ¥çœ‹ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200323001616210.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è¿›å…¥å‡½æ•°åï¼Œåœ¨å‡½æ•°ä¸‹æ–¹å‘ç°äº†å…³é”®çš„å¾ªç¯å‡½æ•°ï¼Œeaxä½œä¸ºè®¡æ•°å™¨ï¼Œä»1å¼€å§‹ç´¯åŠ ï¼Œå¾ªç¯codeçš„é•¿åº¦æ¬¡æ•°åç»“æŸå¾ªç¯ã€‚<br><img src="https://img-blog.csdnimg.cn/20200323001649710.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¯ä»¥å‘ç°åœ¨ç»“æŸå¾ªç¯åï¼Œå­˜æ”¾æœ€ç»ˆç»“æœçš„ebxå˜ä¸º0x00003039ï¼Œè€Œå˜ä¸ºåè¿›åˆ¶åæ­£æ˜¯12345ï¼Œeaxä¸­å­˜æ”¾ç€å±€éƒ¨å˜é‡012345çš„å †æ ˆåœ°å€ã€‚åŒæ—¶esiçš„å€¼ä¾ç„¶ä¸º0x5F9501CEï¼Œå¹¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–ã€‚<br><img src="https://img-blog.csdnimg.cn/20200323001712414.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ç»§ç»­è¿è¡Œä¼šå›åˆ°æœ€ç»ˆåˆ¤æ–­æ¡ä»¶çš„ä½ç½®ï¼Œæ­¤æ—¶esiä¸º0x5F9501CEï¼Œè€Œeaxä¸º0x00003039ã€‚è¿™é‡Œå¯ä»¥çŒœæƒ³ï¼Œæ˜¯å¦æ˜¯è¾“å…¥Codeçš„å€¼ä¸0x5F9501CEå³å¯æˆåŠŸã€‚<br><img src="https://img-blog.csdnimg.cn/20200323001758314.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è¿›è¡Œä¸¤ç»„å®éªŒåå‘ç°æœç„¶å¦‚æ­¤ã€‚<br><img src="https://img-blog.csdnimg.cn/20200323001845960.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>0x04 å¯¹äºæ³¨å†Œæœºçš„æ¢ç©¶</p>
<p>è‡³æ­¤ä¸ºæ­¢å¤§è‡´æµç¨‹å·²ç»æ¸…æ¥šï¼Œå³åªè¦æˆ‘ä»¬è·å–esiæ ¹æ®nameç”Ÿæˆçš„å€¼ï¼Œå¹¶è½¬æ¢ä¸ºåè¿›åˆ¶å³å¯å¾—åˆ°æ­£ç¡®çš„Codeã€‚æ¥ä¸‹æ¥å¯¹esiçš„ç”Ÿæˆè¿›è¡Œæ¢ç©¶ã€‚<br>ä»å¤´è¿è¡Œï¼Œå‘ç°esiçš„å€¼æ˜¯ç”±CM3.00403DF0å‡½æ•°å¾—å‡ºçš„ï¼Œè·Ÿå…¥è¯¥å‡½æ•°æŸ¥çœ‹ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/2020032300225910.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>ä¸€è¿›å»å³å¯çœ‹åˆ°å…³é”®çš„å¾ªç¯å‡½æ•°ï¼Œè¿™é‡Œçš„åœ°å€ä¹Ÿç¬¦åˆå¼€å¤´CRC32ç®—æ³•æ‰€åœ¨çš„ä½ç½®ã€‚edxæ˜¯è®¡æ•°å™¨ï¼Œå¾ªç¯nameé•¿åº¦çš„æ¬¡æ•°ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200323002348298.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>å…¶ä¸­ediåœ¨å¾ªç¯è¿‡ç¨‹ä¸­ä¸€ç›´ä¸º0æ‰€ä»¥ç›´æ¥çœç•¥ï¼Œæœ€ç»ˆç»“æœå­˜æ”¾åœ¨eaxä¸­ï¼Œå¹¶ä¸”ä¼šåœ¨åé¢èµ‹å€¼ç»™esiã€‚<br>è¿™é‡Œæœ‰ä¸€ä¸ªå›°æƒ‘çš„ç‚¹å°±æ˜¯å¯¹äºdword ptr ds:[]æ•°ç»„çš„æ„å»ºï¼Œ<br>dword ptr ds:[edi+eax<em>4]æœ¬æ„æŒ‡å°† [edi+eax</em>4] çš„åŒå­—èŠ‚æ®µåœ°å€é‡Œçš„å†…å®¹èµ‹å€¼ç»™ebxï¼Œä¸€å¼€å§‹æ²¡æœ‰æƒ³åˆ°å¥½çš„åŠæ³•å»æ„é€ ã€‚åæ¥åœ¨ç½‘ä¸ŠæŸ¥è¯¢æ‰¾åˆ°äº†ç›´æ¥å°†å†…å­˜ä¸­çš„æ•°æ®è½¬åŒ–ä¸ºæ•°ç»„çš„æ’ä»¶ï¼Œéå¸¸å¥½ç”¨ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/20200324101617505.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20200324101631768.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ³¨å†Œæœºå¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">int</span> memory[<span class="number">300</span>] = &#123;<span class="number">0x00000000</span>, <span class="number">0x77073096</span>, <span class="number">0xEE0E612C</span>, <span class="number">0x990951BA</span>, <span class="number">0x076DC419</span>, <span class="number">0x706AF48F</span>, <span class="number">0xE963A535</span>, <span class="number">0x9E6495A3</span>, <span class="number">0x0EDB8832</span>, <span class="number">0x79DCB8A4</span>, </span><br><span class="line">  <span class="number">0xE0D5E91E</span>, <span class="number">0x97D2D988</span>, <span class="number">0x09B64C2B</span>, <span class="number">0x7EB17CBD</span>, <span class="number">0xE7B82D07</span>, <span class="number">0x90BF1D91</span>, <span class="number">0x1DB71064</span>, <span class="number">0x6AB020F2</span>, <span class="number">0xF3B97148</span>, <span class="number">0x84BE41DE</span>, </span><br><span class="line">  <span class="number">0x1ADAD47D</span>, <span class="number">0x6DDDE4EB</span>, <span class="number">0xF4D4B551</span>, <span class="number">0x83D385C7</span>, <span class="number">0x136C9856</span>, <span class="number">0x646BA8C0</span>, <span class="number">0xFD62F97A</span>, <span class="number">0x8A65C9EC</span>, <span class="number">0x14015C4F</span>, <span class="number">0x63066CD9</span>, </span><br><span class="line">  <span class="number">0xFA0F3D63</span>, <span class="number">0x8D080DF5</span>, <span class="number">0x3B6E20C8</span>, <span class="number">0x4C69105E</span>, <span class="number">0xD56041E4</span>, <span class="number">0xA2677172</span>, <span class="number">0x3C03E4D1</span>, <span class="number">0x4B04D447</span>, <span class="number">0xD20D85FD</span>, <span class="number">0xA50AB56B</span>, </span><br><span class="line">  <span class="number">0x35B5A8FA</span>, <span class="number">0x42B2986C</span>, <span class="number">0xDBBBC9D6</span>, <span class="number">0xACBCF940</span>, <span class="number">0x32D86CE3</span>, <span class="number">0x45DF5C75</span>, <span class="number">0xDCD60DCF</span>, <span class="number">0xABD13D59</span>, <span class="number">0x26D930AC</span>, <span class="number">0x51DE003A</span>, </span><br><span class="line">  <span class="number">0xC8D75180</span>, <span class="number">0xBFD06116</span>, <span class="number">0x21B4F4B5</span>, <span class="number">0x56B3C423</span>, <span class="number">0xCFBA9599</span>, <span class="number">0xB8BDA50F</span>, <span class="number">0x2802B89E</span>, <span class="number">0x5F058808</span>, <span class="number">0xC60CD9B2</span>, <span class="number">0xB10BE924</span>, </span><br><span class="line">  <span class="number">0x2F6F7C87</span>, <span class="number">0x58684C11</span>, <span class="number">0xC1611DAB</span>, <span class="number">0xB6662D3D</span>, <span class="number">0x76DC4190</span>, <span class="number">0x01DB7106</span>, <span class="number">0x98D220BC</span>, <span class="number">0xEFD5102A</span>, <span class="number">0x71B18589</span>, <span class="number">0x06B6B51F</span>, </span><br><span class="line">  <span class="number">0x9FBFE4A5</span>, <span class="number">0xE8B8D433</span>, <span class="number">0x7807C9A2</span>, <span class="number">0x0F00F934</span>, <span class="number">0x9609A88E</span>, <span class="number">0xE10E9818</span>, <span class="number">0x7F6A0DBB</span>, <span class="number">0x086D3D2D</span>, <span class="number">0x91646C97</span>, <span class="number">0xE6635C01</span>, </span><br><span class="line">  <span class="number">0x6B6B51F4</span>, <span class="number">0x1C6C6162</span>, <span class="number">0x856530D8</span>, <span class="number">0xF262004E</span>, <span class="number">0x6C0695ED</span>, <span class="number">0x1B01A57B</span>, <span class="number">0x8208F4C1</span>, <span class="number">0xF50FC457</span>, <span class="number">0x65B0D9C6</span>, <span class="number">0x12B7E950</span>, </span><br><span class="line">  <span class="number">0x8BBEB8EA</span>, <span class="number">0xFCB9887C</span>, <span class="number">0x62DD1DDF</span>, <span class="number">0x15DA2D49</span>, <span class="number">0x8CD37CF3</span>, <span class="number">0xFBD44C65</span>, <span class="number">0x4DB26158</span>, <span class="number">0x3AB551CE</span>, <span class="number">0xA3BC0074</span>, <span class="number">0xD4BB30E2</span>, </span><br><span class="line">  <span class="number">0x4ADFA541</span>, <span class="number">0x3DD895D7</span>, <span class="number">0xA4D1C46D</span>, <span class="number">0xD3D6F4FB</span>, <span class="number">0x4369E96A</span>, <span class="number">0x346ED9FC</span>, <span class="number">0xAD678846</span>, <span class="number">0xDA60B8D0</span>, <span class="number">0x44042D73</span>, <span class="number">0x33031DE5</span>, </span><br><span class="line">  <span class="number">0xAA0A4C5F</span>, <span class="number">0xDD0D7CC9</span>, <span class="number">0x5005713C</span>, <span class="number">0x270241AA</span>, <span class="number">0xBE0B1010</span>, <span class="number">0xC90C2086</span>, <span class="number">0x5768B525</span>, <span class="number">0x206F85B3</span>, <span class="number">0xB966D409</span>, <span class="number">0xCE61E49F</span>, </span><br><span class="line">  <span class="number">0x5EDEF90E</span>, <span class="number">0x29D9C998</span>, <span class="number">0xB0D09822</span>, <span class="number">0xC7D7A8B4</span>, <span class="number">0x59B33D17</span>, <span class="number">0x2EB40D81</span>, <span class="number">0xB7BD5C3B</span>, <span class="number">0xC0BA6CAD</span>, <span class="number">0xEDB88320</span>, <span class="number">0x9ABFB3B6</span>, </span><br><span class="line">  <span class="number">0x03B6E20C</span>, <span class="number">0x74B1D29A</span>, <span class="number">0xEAD54739</span>, <span class="number">0x9DD277AF</span>, <span class="number">0x04DB2615</span>, <span class="number">0x73DC1683</span>, <span class="number">0xE3630B12</span>, <span class="number">0x94643B84</span>, <span class="number">0x0D6D6A3E</span>, <span class="number">0x7A6A5AA8</span>, </span><br><span class="line">  <span class="number">0xE40ECF0B</span>, <span class="number">0x9309FF9D</span>, <span class="number">0x0A00AE27</span>, <span class="number">0x7D079EB1</span>, <span class="number">0xF00F9344</span>, <span class="number">0x8708A3D2</span>, <span class="number">0x1E01F268</span>, <span class="number">0x6906C2FE</span>, <span class="number">0xF762575D</span>, <span class="number">0x806567CB</span>, </span><br><span class="line">  <span class="number">0x196C3671</span>, <span class="number">0x6E6B06E7</span>, <span class="number">0xFED41B76</span>, <span class="number">0x89D32BE0</span>, <span class="number">0x10DA7A5A</span>, <span class="number">0x67DD4ACC</span>, <span class="number">0xF9B9DF6F</span>, <span class="number">0x8EBEEFF9</span>, <span class="number">0x17B7BE43</span>, <span class="number">0x60B08ED5</span>, </span><br><span class="line">  <span class="number">0xD6D6A3E8</span>, <span class="number">0xA1D1937E</span>, <span class="number">0x38D8C2C4</span>, <span class="number">0x4FDFF252</span>, <span class="number">0xD1BB67F1</span>, <span class="number">0xA6BC5767</span>, <span class="number">0x3FB506DD</span>, <span class="number">0x48B2364B</span>, <span class="number">0xD80D2BDA</span>, <span class="number">0xAF0A1B4C</span>, </span><br><span class="line">  <span class="number">0x36034AF6</span>, <span class="number">0x41047A60</span>, <span class="number">0xDF60EFC3</span>, <span class="number">0xA867DF55</span>, <span class="number">0x316E8EEF</span>, <span class="number">0x4669BE79</span>, <span class="number">0xCB61B38C</span>, <span class="number">0xBC66831A</span>, <span class="number">0x256FD2A0</span>, <span class="number">0x5268E236</span>, </span><br><span class="line">  <span class="number">0xCC0C7795</span>, <span class="number">0xBB0B4703</span>, <span class="number">0x220216B9</span>, <span class="number">0x5505262F</span>, <span class="number">0xC5BA3BBE</span>, <span class="number">0xB2BD0B28</span>, <span class="number">0x2BB45A92</span>, <span class="number">0x5CB36A04</span>, <span class="number">0xC2D7FFA7</span>, <span class="number">0xB5D0CF31</span>, </span><br><span class="line">  <span class="number">0x2CD99E8B</span>, <span class="number">0x5BDEAE1D</span>, <span class="number">0x9B64C2B0</span>, <span class="number">0xEC63F226</span>, <span class="number">0x756AA39C</span>, <span class="number">0x026D930A</span>, <span class="number">0x9C0906A9</span>, <span class="number">0xEB0E363F</span>, <span class="number">0x72076785</span>, <span class="number">0x05005713</span>, </span><br><span class="line">  <span class="number">0x95BF4A82</span>, <span class="number">0xE2B87A14</span>, <span class="number">0x7BB12BAE</span>, <span class="number">0x0CB61B38</span>, <span class="number">0x92D28E9B</span>, <span class="number">0xE5D5BE0D</span>, <span class="number">0x7CDCEFB7</span>, <span class="number">0x0BDBDF21</span>, <span class="number">0x86D3D2D4</span>, <span class="number">0xF1D4E242</span>, </span><br><span class="line">  <span class="number">0x68DDB3F8</span>, <span class="number">0x1FDA836E</span>, <span class="number">0x81BE16CD</span>, <span class="number">0xF6B9265B</span>, <span class="number">0x6FB077E1</span>, <span class="number">0x18B74777</span>, <span class="number">0x88085AE6</span>, <span class="number">0xFF0F6A70</span>, <span class="number">0x66063BCA</span>, <span class="number">0x11010B5C</span>, </span><br><span class="line">  <span class="number">0x8F659EFF</span>, <span class="number">0xF862AE69</span>, <span class="number">0x616BFFD3</span>, <span class="number">0x166CCF45</span>, <span class="number">0xA00AE278</span>, <span class="number">0xD70DD2EE</span>, <span class="number">0x4E048354</span>, <span class="number">0x3903B3C2</span>, <span class="number">0xA7672661</span>, <span class="number">0xD06016F7</span>, </span><br><span class="line">  <span class="number">0x4969474D</span>, <span class="number">0x3E6E77DB</span>, <span class="number">0xAED16A4A</span>, <span class="number">0xD9D65ADC</span>, <span class="number">0x40DF0B66</span>, <span class="number">0x37D83BF0</span>, <span class="number">0xA9BCAE53</span>, <span class="number">0xDEBB9EC5</span>, <span class="number">0x47B2CF7F</span>, <span class="number">0x30B5FFE9</span>, </span><br><span class="line">  <span class="number">0xBDBDF21C</span>, <span class="number">0xCABAC28A</span>, <span class="number">0x53B39330</span>, <span class="number">0x24B4A3A6</span>, <span class="number">0xBAD03605</span>, <span class="number">0xCDD70693</span>, <span class="number">0x54DE5729</span>, <span class="number">0x23D967BF</span>, <span class="number">0xB3667A2E</span>, <span class="number">0xC4614AB8</span>, </span><br><span class="line">  <span class="number">0x5D681B02</span>, <span class="number">0x2A6F2B94</span>, <span class="number">0xB40BBE37</span>, <span class="number">0xC30C8EA1</span>, <span class="number">0x5A05DF1B</span>&#125;;</span><br><span class="line">  <span class="keyword">int</span> edx = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">int</span> ebx = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">int</span> eax = <span class="number">0xFFFFFFFF</span>;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">int</span> al = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">int</span> shed = <span class="number">0</span>;</span><br><span class="line">  <span class="built_in">string</span> str1 = <span class="string">"DiKeN"</span>;</span><br><span class="line">  <span class="built_in">string</span> name;  </span><br><span class="line">  </span><br><span class="line">  <span class="built_in">cout</span>&lt;&lt;<span class="string">"Name:"</span>;</span><br><span class="line">  getline(<span class="built_in">cin</span>, name);</span><br><span class="line">  name = str1 + name;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">for</span> (edx=name.length(); edx&gt;<span class="number">0</span>; edx--)</span><br><span class="line">  &#123;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// ä»…ä¿ç•™eaxçš„ä½å…«ä½</span></span><br><span class="line">    al = eax &amp; <span class="number">0xFF</span>;</span><br><span class="line">    al = al ^ name[name.length()-edx];</span><br><span class="line">    <span class="comment">// æ›´æ–°eaxçš„ä½å…«ä½</span></span><br><span class="line">    eax = (eax &amp; <span class="number">0xffffff00</span>) | al;</span><br><span class="line">    </span><br><span class="line">    shed = eax;</span><br><span class="line">    al = eax &amp; <span class="number">0xFF</span>;</span><br><span class="line">    ebx = memory[al];</span><br><span class="line"></span><br><span class="line">    eax = shed;</span><br><span class="line">    eax = eax &gt;&gt; <span class="number">8</span>;</span><br><span class="line">    eax = eax^ebx;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  eax = eax^<span class="number">0xFFFFFFFF</span>;</span><br><span class="line">  <span class="built_in">cout</span>&lt;&lt;<span class="string">"Code:"</span>&lt;&lt;eax&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">  system(<span class="string">"pause:"</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å…¥Nameå³å¯å¾—åˆ°å¯¹åº”çš„Codeï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/20200324101718240.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/2020032410180810.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Reverse/" rel="tag">Reverse</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-Tensorflow2-0-åˆ©ç”¨å·ç§¯ç¥ç»ç½‘ç»œå®ç°ç®€å•çš„éªŒè¯ç è¯†åˆ«" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/17/Tensorflow2-0-%E5%88%A9%E7%94%A8%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84%E9%AA%8C%E8%AF%81%E7%A0%81%E8%AF%86%E5%88%AB/"
    >Tensorflow2.0 åˆ©ç”¨å·ç§¯ç¥ç»ç½‘ç»œå®ç°ç®€å•çš„éªŒè¯ç è¯†åˆ«</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/03/17/Tensorflow2-0-%E5%88%A9%E7%94%A8%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%AE%9E%E7%8E%B0%E7%AE%80%E5%8D%95%E7%9A%84%E9%AA%8C%E8%AF%81%E7%A0%81%E8%AF%86%E5%88%AB/" class="article-date">
  <time datetime="2020-03-17T13:50:47.000Z" itemprop="datePublished">2020-03-17</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      


      

      
      <p><a href="https://my.oschina.net/u/4105485/blog/3042460" target="_blank" rel="noopener">åŸæ–‡åœ°å€</a></p>
<h3 id="0x01-éªŒè¯ç ç”ŸæˆåŠé¢„å¤„ç†"><a href="#0x01-éªŒè¯ç ç”ŸæˆåŠé¢„å¤„ç†" class="headerlink" title="0x01 éªŒè¯ç ç”ŸæˆåŠé¢„å¤„ç†"></a>0x01 éªŒè¯ç ç”ŸæˆåŠé¢„å¤„ç†</h3><p>éªŒè¯ç çš„å†…å®¹æ˜¯10ä¸ªæ•°å­—0~9ï¼Œå°å†™è‹±æ–‡å­—æ¯å’Œå¤§å†™è‹±æ–‡å­—æ¯ï¼Œæ‰€ä»¥æ€»çš„å­—ç¬¦é‡ä¸º62ç§</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">number &#x3D; [&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;]</span><br><span class="line">alphabet &#x3D; [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;, &#39;k&#39;, &#39;l&#39;, &#39;m&#39;, &#39;n&#39;, &#39;o&#39;, &#39;p&#39;, &#39;q&#39;, &#39;r&#39;, &#39;s&#39;, &#39;t&#39;, &#39;u&#39;,</span><br><span class="line">            &#39;v&#39;, &#39;w&#39;, &#39;x&#39;, &#39;y&#39;, &#39;z&#39;]</span><br><span class="line">ALPHABET &#x3D; [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;, &#39;F&#39;, &#39;G&#39;, &#39;H&#39;, &#39;I&#39;, &#39;J&#39;, &#39;K&#39;, &#39;L&#39;, &#39;M&#39;, &#39;N&#39;, &#39;O&#39;, &#39;P&#39;, &#39;Q&#39;, &#39;R&#39;, &#39;S&#39;, &#39;T&#39;, &#39;U&#39;,</span><br><span class="line">            &#39;V&#39;, &#39;W&#39;, &#39;X&#39;, &#39;Y&#39;, &#39;Z&#39;]</span><br><span class="line">CHAR_SET &#x3D; number + alphabet + ALPHABET</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„éªŒè¯ç éƒ½æ˜¯å¸¦å¹²æ‰°çº¿å¹²æ‰°ç‚¹ï¼Œå¹¶ä¸”å„ç§é¢œè‰²å’Œå˜å½¢å¤„ç†éƒ½æ˜¯æœ‰çš„<br><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9vc2NpbWcub3NjaGluYS5uZXQvb3NjbmV0LzQxM2FkZGUwZDNhZjk5Mzk5M2Y5MzNkNWQ2MDJiYTM5MGEzLmpwZw?x-oss-process=image/format,png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>é¦–å…ˆå°†å›¾ç‰‡è½¬æˆnumpyæ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">captcha_image &#x3D; Image.open(captcha)</span><br><span class="line">captcha_image &#x3D; np.array(captcha_image)</span><br></pre></td></tr></table></figure>
<p>æ ¹æ®åˆ†æï¼Œè¿™ç±»éªŒè¯ç çš„é¢œè‰²å¯¹æˆ‘ä»¬çš„è¯†åˆ«æ²¡æœ‰å½±å“ï¼Œæ‰€ä»¥å°†å›¾åƒè¿›è¡Œé¢„å¤„ç†â€”â€”ç°åº¦åŒ–ï¼ˆæ ¹æ®å›¾ç‰‡çš„ä¸åŒå¯ä»¥åšç°åº¦åŒ–æˆ–è€…äºŒå€¼åŒ–ç­‰é¢„å¤„ç†æ“ä½œï¼‰</p>
<p>è¿™é‡Œä½¿ç”¨çš„æ˜¯æ±‚å‡å€¼çš„æ–¹æ³•ï¼ˆæ­£è§„çš„æ–¹æ³•åº”è¯¥æ˜¯RGBä¸‰ä¸ªé€šé“ä¸ŠæŒ‰ç…§ä¸€å®šçš„æ¯”ä¾‹å–å€¼ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gray &#x3D; np.mean(img, -1)</span><br></pre></td></tr></table></figure>

<h3 id="0x02-å»ºç«‹å·ç§¯ç¥ç»ç½‘ç»œ"><a href="#0x02-å»ºç«‹å·ç§¯ç¥ç»ç½‘ç»œ" class="headerlink" title="0x02 å»ºç«‹å·ç§¯ç¥ç»ç½‘ç»œ"></a>0x02 å»ºç«‹å·ç§¯ç¥ç»ç½‘ç»œ</h3><p>1.è¾“å…¥çš„å›¾ç‰‡ä¸º160 * 60çš„ï¼Œç°åº¦åŒ–é¢„å¤„ç†ä»¥åä¸ºä¸€ç»´æ•°ç»„ï¼Œæ¯å¼ å›¾ç‰‡æ€»å…±æœ‰9600ä¸ªè¾“å…¥å€¼</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">IMAGE_HEIGHT &#x3D; 60</span><br><span class="line">IMAGE_WIDTH &#x3D; 160</span><br></pre></td></tr></table></figure>

<p>2.è¾“å‡ºçš„å­—ç¬¦é›†æœ‰62ä¸ªå­—ç¬¦ï¼Œå¹¶ä¸”æ¯å¼ å›¾ç‰‡æœ‰4ä½å­—ç¬¦ï¼Œæ€»å…±æœ‰4 * 62 = 248ä¸ªè¾“å‡ºå€¼ï¼ˆä¸‹é¢çš„batch_sizeä¸ºæ¯æ‰¹è®­ç»ƒçš„å›¾ç‰‡æ•°é‡ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">batch_y &#x3D; np.zeros([batch_size, MAX_CAPTCHA, CHAR_SET_LEN])</span><br></pre></td></tr></table></figure>

<p>3.è¾“å…¥å±‚æœ‰9600ä¸ªå€¼ï¼Œè¾“å‡ºå±‚æœ‰248ä¸ªå€¼ï¼Œå¦‚æœä½¿ç”¨å…¨è¿æ¥å±‚ä½œä¸ºéšè—å±‚åˆ™ä¼šéœ€è¦å¤©é‡çš„è®¡ç®—</p>
<p>æ‰€ä»¥éœ€è¦å…ˆä½¿ç”¨å·ç§¯æ ¸æ± åŒ–æ“ä½œå°½å¯èƒ½çš„å‡å°‘è®¡ç®—é‡ï¼Œå›¾ç‰‡åƒç´ ä¸é«˜ï¼Œæ‰€ä»¥ä½¿ç”¨çš„å·ç§¯æ ¸å’Œæ± å¤§å°ä¸èƒ½å¤ªå¤§ï¼Œä¼˜å…ˆè€ƒè™‘3 * 3 å’Œ5 * 5 çš„å·ç§¯æ ¸ï¼Œæ± å¤§å°ä½¿ç”¨2 * 2</p>
<p>æŒ‰ç…§ä¸‹é¢çš„ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œå·ç§¯æ± åŒ–ä»¥åçš„è¾“å‡ºåº”è¯¥æ˜¯128 * 17 * 5 = 10880ï¼ˆå¦‚æœæœ€åä¸€å±‚çš„æ·±åº¦ä»ç„¶ä½¿ç”¨64çš„è¯ï¼Œå¤§å°ä¼šå‡ä¸ºä¸€åŠï¼‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">model.add(tf.keras.layers.Conv2D(32, (3, 3)))</span><br><span class="line">model.add(tf.keras.layers.PReLU())</span><br><span class="line">model.add(tf.keras.layers.MaxPool2D((2, 2), strides&#x3D;2))</span><br><span class="line"></span><br><span class="line">model.add(tf.keras.layers.Conv2D(64, (5, 5)))</span><br><span class="line">model.add(tf.keras.layers.PReLU())</span><br><span class="line">model.add(tf.keras.layers.MaxPool2D((2, 2), strides&#x3D;2))</span><br><span class="line"></span><br><span class="line">model.add(tf.keras.layers.Conv2D(128, (5, 5)))</span><br><span class="line">model.add(tf.keras.layers.PReLU())</span><br><span class="line">model.add(tf.keras.layers.MaxPool2D((2, 2), strides&#x3D;2))</span><br></pre></td></tr></table></figure>

<p>4.è¾“å‡ºçš„çš„æ¯ä¸€ä½çš„å­—ç¬¦ä¹‹é—´æ²¡æœ‰å…³è”å…³ç³»ï¼Œæ‰€ä»¥ä»ç„¶å°†è¾“å‡ºå€¼çœ‹æˆ4ç»„ï¼Œéœ€è¦å°†è¾“å‡ºå€¼è°ƒæ•´ä¸º(4, 62)çš„æ•°ç»„</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">model.add(tf.keras.layers.Flatten())</span><br><span class="line">model.add(tf.keras.layers.Dense(MAX_CAPTCHA * CHAR_SET_LEN))</span><br><span class="line">model.add(tf.keras.layers.Reshape([MAX_CAPTCHA, CHAR_SET_LEN]))</span><br></pre></td></tr></table></figure>

<p>6.è¯†åˆ«çš„åŸç†æ˜¯è®¡ç®—æ¯ä¸€ä½å­—ç¬¦ä¸ŠæŸä¸ªå­—ç¬¦å‡ºç°çš„å¯èƒ½æ€§æœ€å¤§ï¼Œæ‰€ä»¥æ¯å¼ å›¾ç‰‡éƒ½æ˜¯ä¸€ä¸ª4ä½çš„å¤šåˆ†ç±»é—®é¢˜ï¼Œæœ€ç»ˆè¾“å‡ºä½¿ç”¨softmaxè¿›è¡Œå½’ä¸€åŒ–</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.add(tf.keras.layers.Softmax())</span><br></pre></td></tr></table></figure>

<p>7.åœ¨tensorflow2.0ä¸­softmaxå¯¹åº”çš„æŸå¤±å‡½æ•°æ˜¯categorical_crossentropyï¼ŒæŒ‰ç…§è¿™ä¸ªæ¥é…ç½®æ¨¡å‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">model.compile(optimizer&#x3D;&#39;Adam&#39;,</span><br><span class="line">              metrics&#x3D;[&#39;accuracy&#39;],</span><br><span class="line">              loss&#x3D;&#39;categorical_crossentropy&#39;)</span><br></pre></td></tr></table></figure>

<p>8.æœ€åå°†å¯èƒ½æ€§æœ€å¤§çš„é‚£ä¸ªä¸‹æ ‡å–å‡ºï¼Œä½œä¸ºå­—ç¬¦é›†çš„ä¸‹æ ‡ï¼Œè·å–å®é™…å¯¹åº”çš„å­—ç¬¦ï¼ˆå½“ç„¶æˆ‘ä»¬åœ¨è®­ç»ƒçš„æ—¶å€™æ²¡æœ‰å¿…è¦è½¬åŒ–ä¸ºå­—ç¬¦ï¼Œç›´æ¥ä¸‹æ ‡æ¯”è¾ƒä¸€ä¸‹æ˜¯å¦æ­£ç¡®å°±å¯ä»¥äº†ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prediction_value &#x3D; vec2text(np.argmax(prediction_value, axis&#x3D;2)[0])</span><br></pre></td></tr></table></figure>

<h3 id="0x03-è®­ç»ƒæ¨¡å‹"><a href="#0x03-è®­ç»ƒæ¨¡å‹" class="headerlink" title="0x03 è®­ç»ƒæ¨¡å‹"></a>0x03 è®­ç»ƒæ¨¡å‹</h3><p>ä½¿ç”¨ä¸€ä¸ªå¾ªç¯é€»è¾‘å¼€å¯è®­ç»ƒï¼Œæ¯æ‰¹è®­ç»ƒ512å¼ å›¾ç‰‡ï¼Œæ¯æ‰¹è®­ç»ƒ4æ¬¡</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for times in range(500000):</span><br><span class="line">    batch_x, batch_y &#x3D; get_next_batch(512)</span><br><span class="line">    model.fit(batch_x, batch_y, epochs&#x3D;4)</span><br><span class="line">    print(&quot;yé¢„æµ‹&#x3D;\n&quot;, np.argmax(model.predict(batch_x), axis&#x3D;2))</span><br><span class="line">    print(&quot;yå®é™…&#x3D;\n&quot;, np.argmax(batch_y, axis&#x3D;2))</span><br></pre></td></tr></table></figure>

<p>åˆšå¼€å§‹çš„æ—¶å€™å¯èƒ½æŸå¤±å€¼ä¼šåœ¨4å·¦å³å¾˜å¾Šï¼Œå¤šè·‘å‡ ä¸ªæ‰¹æ¬¡ä»¥åæŸå¤±å€¼ä¼šæ˜æ˜¾ä¸‹é™ï¼Œç²¾ç¡®åº¦accuracyä¹Ÿä¼šç›´çº¿ä¸Šå‡</p>
<p>ä¸‹é¢å¯ä»¥çœ‹åˆ°æ¯æ‰¹çš„ç¬¬ä¸€æ¬¡è®­ç»ƒç»“æœä¸­ç²¾ç¡®åº¦åªæœ‰ä¸åˆ°60%ï¼Œè€Œåœ¨ç¬¬å››æ¬¡è®­ç»ƒç»“æœä¸­ç²¾ç¡®åº¦åŸºæœ¬ä¸Šéƒ½èƒ½è¾¾åˆ°99%ä»¥ä¸Š</p>
<p>ä½†æ˜¯è¿™ä¸ªç²¾ç¡®åº¦è¾¾åˆ°99%äº†ä¹Ÿä¸èƒ½è¯´æ˜æ•´ä¸ªæ¨¡å‹å°±è®­ç»ƒç»“æŸäº†ï¼Œè¿™ä¸ªç²¾ç¡®åº¦åªæ˜¯é’ˆå¯¹è¿™ä¸€æ‰¹512å¼ å›¾ç‰‡æ¥è¯´çš„</p>
<p>æ¯•ç«Ÿ4ä½éªŒè¯ç æœ‰62 * 62 * 62 * 62ç§å¯èƒ½ï¼Œè®­ç»ƒé›†å¹¶ä¸èƒ½ä»£è¡¨æ‰€æœ‰çš„å¯èƒ½æ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨æ–°ç”Ÿæˆçš„éªŒè¯ç æ¥è¯æ˜æ•´ä¸ªè®­ç»ƒç»“æœæ˜¯å¦èƒ½ç»“æŸ</p>
<h3 id="0x04-å®Œæ•´ä»£ç "><a href="#0x04-å®Œæ•´ä»£ç " class="headerlink" title="0x04 å®Œæ•´ä»£ç "></a>0x04 å®Œæ•´ä»£ç </h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"><span class="keyword">from</span> captcha.image <span class="keyword">import</span> ImageCaptcha</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"></span><br><span class="line">number = [<span class="string">'0'</span>, <span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>, <span class="string">'6'</span>, <span class="string">'7'</span>, <span class="string">'8'</span>, <span class="string">'9'</span>]</span><br><span class="line">alphabet = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>, <span class="string">'h'</span>, <span class="string">'i'</span>, <span class="string">'j'</span>, <span class="string">'k'</span>, <span class="string">'l'</span>, <span class="string">'m'</span>, <span class="string">'n'</span>, <span class="string">'o'</span>, <span class="string">'p'</span>, <span class="string">'q'</span>, <span class="string">'r'</span>, <span class="string">'s'</span>, <span class="string">'t'</span>, <span class="string">'u'</span>,</span><br><span class="line">            <span class="string">'v'</span>, <span class="string">'w'</span>, <span class="string">'x'</span>, <span class="string">'y'</span>, <span class="string">'z'</span>]</span><br><span class="line">ALPHABET = [<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>, <span class="string">'F'</span>, <span class="string">'G'</span>, <span class="string">'H'</span>, <span class="string">'I'</span>, <span class="string">'J'</span>, <span class="string">'K'</span>, <span class="string">'L'</span>, <span class="string">'M'</span>, <span class="string">'N'</span>, <span class="string">'O'</span>, <span class="string">'P'</span>, <span class="string">'Q'</span>, <span class="string">'R'</span>, <span class="string">'S'</span>, <span class="string">'T'</span>, <span class="string">'U'</span>,</span><br><span class="line">            <span class="string">'V'</span>, <span class="string">'W'</span>, <span class="string">'X'</span>, <span class="string">'Y'</span>, <span class="string">'Z'</span>]</span><br><span class="line">SAVE_PATH = <span class="string">"D:\\Programming\\TF2.0 Verification Code"</span></span><br><span class="line">CHAR_SET = number + alphabet + ALPHABET</span><br><span class="line">CHAR_SET_LEN = len(CHAR_SET)</span><br><span class="line">IMAGE_HEIGHT = <span class="number">60</span></span><br><span class="line">IMAGE_WIDTH = <span class="number">160</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">random_captcha_text</span><span class="params">(char_set=None, captcha_size=<span class="number">4</span>)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> char_set <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        char_set = number + alphabet + ALPHABET</span><br><span class="line"></span><br><span class="line">    captcha_text = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(captcha_size):</span><br><span class="line">        c = random.choice(char_set)</span><br><span class="line">        captcha_text.append(c)</span><br><span class="line">    <span class="keyword">return</span> captcha_text</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gen_captcha_text_and_image</span><span class="params">(width=<span class="number">160</span>, height=<span class="number">60</span>, char_set=CHAR_SET)</span>:</span></span><br><span class="line">    image = ImageCaptcha(width=width, height=height)</span><br><span class="line"></span><br><span class="line">    captcha_text = random_captcha_text(char_set)</span><br><span class="line">    captcha_text = <span class="string">''</span>.join(captcha_text)</span><br><span class="line"></span><br><span class="line">    captcha = image.generate(captcha_text)</span><br><span class="line"></span><br><span class="line">    captcha_image = Image.open(captcha)</span><br><span class="line">    captcha_image = np.array(captcha_image)</span><br><span class="line">    <span class="keyword">return</span> captcha_text, captcha_image</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">text, image = gen_captcha_text_and_image(char_set=CHAR_SET)</span><br><span class="line">MAX_CAPTCHA = len(text)</span><br><span class="line">print(<span class="string">'CHAR_SET_LEN='</span>, CHAR_SET_LEN, <span class="string">' MAX_CAPTCHA='</span>, MAX_CAPTCHA)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">convert2gray</span><span class="params">(img)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> len(img.shape) &gt; <span class="number">2</span>:</span><br><span class="line">        gray = np.mean(img, <span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> gray</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> img</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">text2vec</span><span class="params">(text)</span>:</span></span><br><span class="line">    vector = np.zeros([MAX_CAPTCHA, CHAR_SET_LEN])</span><br><span class="line">    <span class="keyword">for</span> i, c <span class="keyword">in</span> enumerate(text):</span><br><span class="line">        idx = CHAR_SET.index(c)</span><br><span class="line">        vector[i][idx] = <span class="number">1.0</span></span><br><span class="line">    <span class="keyword">return</span> vector</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">vec2text</span><span class="params">(vec)</span>:</span></span><br><span class="line">    text = []</span><br><span class="line">    <span class="keyword">for</span> i, c <span class="keyword">in</span> enumerate(vec):</span><br><span class="line">        text.append(CHAR_SET[c])</span><br><span class="line">    <span class="keyword">return</span> <span class="string">""</span>.join(text)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_next_batch</span><span class="params">(batch_size=<span class="number">128</span>)</span>:</span></span><br><span class="line">    batch_x = np.zeros([batch_size, IMAGE_HEIGHT, IMAGE_WIDTH, <span class="number">1</span>])</span><br><span class="line">    batch_y = np.zeros([batch_size, MAX_CAPTCHA, CHAR_SET_LEN])</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrap_gen_captcha_text_and_image</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            text, image = gen_captcha_text_and_image(char_set=CHAR_SET)</span><br><span class="line">            <span class="keyword">if</span> image.shape == (<span class="number">60</span>, <span class="number">160</span>, <span class="number">3</span>):</span><br><span class="line">                <span class="keyword">return</span> text, image</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(batch_size):</span><br><span class="line">        text, image = wrap_gen_captcha_text_and_image()</span><br><span class="line">        image = tf.reshape(convert2gray(image), (IMAGE_HEIGHT, IMAGE_WIDTH, <span class="number">1</span>))</span><br><span class="line">        batch_x[i, :] = image</span><br><span class="line">        batch_y[i, :] = text2vec(text)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> batch_x, batch_y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">crack_captcha_cnn</span><span class="params">()</span>:</span></span><br><span class="line">    model = tf.keras.Sequential()</span><br><span class="line"></span><br><span class="line">    model.add(tf.keras.layers.Conv2D(<span class="number">32</span>, (<span class="number">3</span>, <span class="number">3</span>)))</span><br><span class="line">    model.add(tf.keras.layers.PReLU())</span><br><span class="line">    model.add(tf.keras.layers.MaxPool2D((<span class="number">2</span>, <span class="number">2</span>), strides=<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">    model.add(tf.keras.layers.Conv2D(<span class="number">64</span>, (<span class="number">5</span>, <span class="number">5</span>)))</span><br><span class="line">    model.add(tf.keras.layers.PReLU())</span><br><span class="line">    model.add(tf.keras.layers.MaxPool2D((<span class="number">2</span>, <span class="number">2</span>), strides=<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">    model.add(tf.keras.layers.Conv2D(<span class="number">128</span>, (<span class="number">5</span>, <span class="number">5</span>)))</span><br><span class="line">    model.add(tf.keras.layers.PReLU())</span><br><span class="line">    model.add(tf.keras.layers.MaxPool2D((<span class="number">2</span>, <span class="number">2</span>), strides=<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">    model.add(tf.keras.layers.Flatten())</span><br><span class="line">    model.add(tf.keras.layers.Dense(MAX_CAPTCHA * CHAR_SET_LEN))</span><br><span class="line">    model.add(tf.keras.layers.Reshape([MAX_CAPTCHA, CHAR_SET_LEN]))</span><br><span class="line"></span><br><span class="line">    model.add(tf.keras.layers.Softmax())</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> model</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">train</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        model = tf.keras.models.load_model(SAVE_PATH + <span class="string">'model'</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        print(<span class="string">'#######Exception'</span>, e)</span><br><span class="line">        model = crack_captcha_cnn()</span><br><span class="line"></span><br><span class="line">    model.compile(optimizer=<span class="string">'Adam'</span>,</span><br><span class="line">                  metrics=[<span class="string">'accuracy'</span>],</span><br><span class="line">                  loss=<span class="string">'categorical_crossentropy'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> times <span class="keyword">in</span> range(<span class="number">5</span>):</span><br><span class="line">        batch_x, batch_y = get_next_batch(<span class="number">512</span>)</span><br><span class="line">        print(<span class="string">'times='</span>, times, <span class="string">' batch_x.shape='</span>, batch_x.shape, <span class="string">' batch_y.shape='</span>, batch_y.shape)</span><br><span class="line">        model.fit(batch_x, batch_y, epochs=<span class="number">4</span>)</span><br><span class="line">        print(<span class="string">"yé¢„æµ‹=\n"</span>, np.argmax(model.predict(batch_x), axis=<span class="number">2</span>))</span><br><span class="line">        print(<span class="string">"yå®é™…=\n"</span>, np.argmax(batch_y, axis=<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="number">0</span> == times % <span class="number">10</span>:</span><br><span class="line">            print(<span class="string">"save model at times="</span>, times)</span><br><span class="line">            model.save(SAVE_PATH + <span class="string">'model'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">()</span>:</span></span><br><span class="line">    model = tf.keras.models.load_model(SAVE_PATH + <span class="string">'model'</span>)</span><br><span class="line">    success = <span class="number">0</span></span><br><span class="line">    count = <span class="number">100</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> range(count):</span><br><span class="line">        data_x, data_y = get_next_batch(<span class="number">1</span>)</span><br><span class="line">        prediction_value = model.predict(data_x)</span><br><span class="line">        data_y = vec2text(np.argmax(data_y, axis=<span class="number">2</span>)[<span class="number">0</span>])</span><br><span class="line">        prediction_value = vec2text(np.argmax(prediction_value, axis=<span class="number">2</span>)[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> data_y.upper() == prediction_value.upper():</span><br><span class="line">            print(<span class="string">"yé¢„æµ‹="</span>, prediction_value, <span class="string">"yå®é™…="</span>, data_y, <span class="string">"é¢„æµ‹æˆåŠŸã€‚"</span>)</span><br><span class="line">            success += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">"yé¢„æµ‹="</span>, prediction_value, <span class="string">"yå®é™…="</span>, data_y, <span class="string">"é¢„æµ‹å¤±è´¥ã€‚"</span>)</span><br><span class="line">        print(<span class="string">"é¢„æµ‹"</span>, count, <span class="string">"æ¬¡"</span>, <span class="string">"æˆåŠŸç‡="</span>, success / count)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    train()</span><br><span class="line">    predict()</span><br></pre></td></tr></table></figure>


      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Tensorflow-2-0/" rel="tag">Tensorflow 2.0</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-160ä¸ªCrackMe 0x17" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/09/160%E4%B8%AACrackMe%200x17/"
    >160ä¸ªCrackMe 0x17</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/03/09/160%E4%B8%AACrackMe%200x17/" class="article-date">
  <time datetime="2020-03-09T12:00:00.000Z" itemprop="datePublished">2020-03-09</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h3 id="0x00-åˆæ­¥åˆ†æ"><a href="#0x00-åˆæ­¥åˆ†æ" class="headerlink" title="0x00 åˆæ­¥åˆ†æ"></a>0x00 åˆæ­¥åˆ†æ</h3><p>é¦–å…ˆæ‰“å¼€crackmeï¼Œè¦æ±‚è¾“å…¥nameå’Œserialï¼Œä½†æ˜¯å¹¶æ²¡æœ‰Checkä¹‹ç±»çš„å­—æ ·ï¼Œåªæœ‰åº•éƒ¨çš„Statusæ˜¾ç¤ºå½“å‰çš„åºåˆ—å·ä¸åˆæ³•ã€‚ç‚¹å‡»åº•éƒ¨çš„Aboutï¼Œå‡ºç°è¯´æ˜ï¼šæ‰¾åˆ°ç¬¦åˆnameçš„serialï¼Œå¹¶ä¸”ä¸å…è®¸ä¿®æ”¹ç¨‹åºã€‚<br><img src="https://img-blog.csdnimg.cn/20200309192631260.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20200309193510837.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ‹–å…¥ODä¸­è¿›è¡Œåˆ†æï¼Œåˆ©ç”¨æŸ¥æ‰¾å­—ç¬¦ä¸²æ’ä»¶æ‰¾å¯»åˆ°æˆåŠŸå’Œå¤±è´¥å­—æ ·ã€‚<br><img src="https://img-blog.csdnimg.cn/20200309194720903.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ç‚¹å‡»è¿›å…¥ã€‚å‘ç°äº†åˆ¤æ–­æˆåŠŸçš„æ¡ä»¶ï¼Œå³0x403167åœ°å€çš„å€¼ï¼ˆä»¥ä¸‹ç”¨[166]ä»£æ›¿ï¼‰éœ€ç­‰äº0x10ã€‚è€Œ166çš„å€¼ä¼šåœ¨call Chafe_1.00401453å‡½æ•°åå‘ç”Ÿæ”¹å˜ï¼Œäºæ˜¯æŒ‰å›è½¦è¿›å…¥å‡½æ•°ã€‚</p>
<h3 id="0x01-ä¸‰æ®µä»£ç "><a href="#0x01-ä¸‰æ®µä»£ç " class="headerlink" title="0x01 ä¸‰æ®µä»£ç "></a>0x01 ä¸‰æ®µä»£ç </h3><p>è¿™é‡Œä¼šå‘ç°ä¸‰æ®µä»£ç ï¼Œéƒ½æ–­ä¸‹ä¹‹åæŒ‰f9ï¼Œå‘ç°ç¨‹åºä¼šåœ¨ä¸‰æ®µä»£ç ä¹‹é—´æ¥å›è·³ï¼Œå´ä¸€ç›´æ— æ³•è¾“å…¥nameå’Œserialï¼Œäºæ˜¯æ‰æƒ³è¿™ä¸ªç¨‹åºå¯èƒ½æ˜¯æŒç»­å¾ªç¯çš„å¯¹nameå’Œserialè¿›è¡Œåˆ¤æ–­ã€‚<br><img src="https://img-blog.csdnimg.cn/20200309194811253.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å°†æ‰€æœ‰æ–­ç‚¹å»æ‰åï¼Œå¡«å…¥nameå’Œserialï¼Œä»¥ä¾¿æ¥ä¸‹æ¥è¿›ä¸€æ­¥ç ”ç©¶ã€‚<br><img src="https://img-blog.csdnimg.cn/20200309194825105.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_1,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>å°†æ‰€æœ‰æ–­ç‚¹æ¢å¤åï¼ŒæŒ‰ä¸‹f9ï¼Œä¼šå‘ç°ç¨‹åºåœ¨ä»£ç æ®µä¸€ä¸‰ã€ä»£ç æ®µäºŒä¸‰ä¹‹é—´æ¥å›è·³è½¬ï¼Œè·³å¾€ä¸€å¼€å§‹æ‰¾åˆ°çš„æœ€ç»ˆåˆ¤æ–­ç‚¹ã€‚<br>é¦–å…ˆç­‰ç¨‹åºæ–­åœ¨ä»£ç æ®µäºŒä¹‹åï¼Œè·Ÿä»£ç æ®µäºŒï¼Œå‘ç°è¿™æ˜¯ä¸€ä¸ªGetDlgItemIntå‡½æ•°ã€‚å®ƒé€šè¿‡å‘é€æ§ä»¶WM_GETTEXTæ¶ˆæ¯æ¥æ£€ç´¢æŒ‡å®šæ§ä»¶çš„æ–‡æœ¬ã€‚è¯¥å‡½æ•°é€šè¿‡å‰¥ç¦»æ–‡æœ¬å¼€å¤´çš„ä»»ä½•é¢å¤–çš„ç©ºæ ¼ï¼Œç„¶åè½¬æ¢åè¿›åˆ¶æ•°å­—æ¥ç¿»è¯‘æ£€ç´¢åˆ°çš„æ–‡æœ¬ã€‚è¯¥åŠŸèƒ½åœ¨åˆ°è¾¾æ–‡æœ¬æœ«å°¾æˆ–é‡åˆ°éæ•°å­—å­—ç¬¦æ—¶åœæ­¢è½¬æ¢ã€‚ç®€å•æ¥è¯´å°±æ˜¯ä¼šè·å–eaxä¸­çš„æ–‡æœ¬å¹¶èµ‹å€¼ç»™188åœ°å€ã€‚è€Œæ­¤æ—¶eaxä¸­çš„æ•°ä¸º0x00BC614Eï¼ˆ12345678ï¼‰ï¼Œå‘ç°å°±æ˜¯æˆ‘ä»¬çš„serialã€‚é‚£ä¹ˆæ­¤æ—¶å°±å¯ä»¥çŸ¥é“ï¼Œ[188]=serialã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200309194916941.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å½“ç¨‹åºæ–­åœ¨ä»£ç æ®µä¸‰ä»¥åï¼Œå•æ­¥è·Ÿè¿›è¡Œåˆ†æã€‚[188] += 0x9112478ï¼ŒåŠ å®Œä¹‹å[188]==0åˆ™ä¸è·³è½¬ï¼Œä¸è·³è½¬åˆ™[166]å¯ä»¥åŠ 4ã€‚è€Œæ­¤æ—¶å¯ä»¥çœ‹åˆ°[166] = 0xCï¼Œæ¥ç€å•æ­¥è·Ÿä¼šå‘ç°ç¨‹åºæ¥åˆ°å¼€å¤´çš„åœ°æ–¹ï¼Œè¿›è¡Œèµ‹å€¼åæœ€å[166]çš„å€¼ä¼šè·Ÿ0x10è¿›è¡Œæ¯”è¾ƒï¼Œç›¸ç­‰åˆ™æˆåŠŸã€‚<br>è¿™æ„å‘³ç€æƒ³è¦å¾—åˆ°æ­£ç¡®çš„serialå°±ä¸èƒ½è·³è½¬ï¼Œå¾—è®©[166]åŠ 4ï¼Œè€Œè¦æƒ³ä¸è·³è½¬[188]å°±å¾—ä¸º<br>-0x9112478ã€‚è¿™é‡Œè¦æ³¨æ„ï¼Œè®¡ç®—æœºä¸­è´Ÿæ•°è¿›è¡ŒåŠ æ³•å¾—ç”¨ä»–çš„è¡¥ç æ¥è¡¨ç¤ºï¼Œè€Œ-0x9112478çš„è¡¥ç ä¸º0xF6EEDB88ã€‚<br><img src="https://img-blog.csdnimg.cn/20200309194934605.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<h3 id="0x02-æ ¸å¿ƒç®—æ³•"><a href="#0x02-æ ¸å¿ƒç®—æ³•" class="headerlink" title="0x02 æ ¸å¿ƒç®—æ³•"></a>0x02 æ ¸å¿ƒç®—æ³•</h3><p>é‚£ä¹ˆ[188]æ€æ ·æ‰èƒ½ä¸º0xF6EEDB88å‘¢ï¼Ÿè¿™å°±éœ€è¦æŸ¥çœ‹[188]åˆ°åº•ç»è¿‡äº†å“ªäº›ç®—æ³•å˜åŒ–ã€‚é€šè¿‡å³é”®æŸ¥æ‰¾åœ°å€å¸¸é‡ï¼Œå°±å¯ä»¥æŸ¥çœ‹å“ªäº›åœ°æ–¹å‡ºç°äº†188åœ°å€ã€‚<br><img src="https://img-blog.csdnimg.cn/20200309195017853.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20200309195049802.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ç‚¹å‡»è¿›å»æŸ¥çœ‹ï¼Œä¼šå‡ºç°ä¸‹æ–¹çš„ä»£ç ã€‚åœ¨ä»£ç æ®µå¼€å¤´ä¸‹æ–­ç‚¹ï¼Œè¿è¡Œï¼Œä¼šå‘ç°ç¨‹åºåœ¨è·‘å®Œä¸Šæ–¹çš„ä»£ç æ®µäºŒåè¿è¡Œä¸‹æ–¹çš„ä»£ç ï¼Œå¹¶ä¸”å…¶ä¸­å‡ºç°äº†æˆ‘ä»¬çš„nameã€‚ä¹Ÿå°±æ˜¯è¯´æ­¤æ—¶nameå­˜å‚¨åœ¨ediï¼ˆé€šè¿‡leaæ“ä½œediè·å–18Cåœ°å€ï¼‰ä¸­ï¼Œserialå­˜å‚¨åœ¨[188]ä¸­ã€‚<br><img src="https://img-blog.csdnimg.cn/2020030919511040.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>18Cåœ°å€ä¸­å­˜æ”¾çš„æ˜¯æˆ‘ä»¬è¾“å…¥çš„ç”¨æˆ·åï¼Œè¢«ediå¼•ç”¨ï¼Œ[168]åœ°å€æ˜¯ä¸€ä¸ªè®¡æ•°å™¨ï¼Œç”¨edi+[168]è®¡æ•°å™¨è¿›è¡Œåç§»ï¼Œ168è®¡æ•°å™¨åˆå§‹ä¸º0ï¼ŒediåŠ å®Œåï¼Œè®¡æ•°å™¨ç´¯åŠ 1ï¼Œç„¶åå–å‡º[188]ä¸­æˆ‘ä»¬è¾“å…¥åºåˆ—å·ï¼ˆæ•°å­—æ ¼å¼ï¼Œè¾“å…¥éæ•°å­—ä¼šå˜ä¸º0ï¼‰æ”¾å…¥eaxï¼ŒeaxåŠ 1åä¸ediï¼ˆ<strong>ç›¸å½“äºå–ç”¨æˆ·åè®¡æ•°å™¨æŒ‡é’ˆä½ç½®4å­—èŠ‚ï¼Œå› ä¸ºediæœ€å¤šå­˜æ”¾å››ä¸ªå­—èŠ‚</strong>ï¼‰å¼‚æˆ–è¿ç®—ï¼Œç»“æœå­˜å…¥188åœ°å€ï¼Œä¸€ç›´åˆ°è®¡æ•°å™¨ç´¯åŠ è‡³0x10é€€å‡ºå¾ªç¯ã€‚ç»è¿‡16æ¬¡å¾ªç¯åï¼Œ[188]å†³å®šäº†æ˜¯å¦èƒ½æ³¨å†Œé€šè¿‡ã€‚</p>
<p>è€Œæœ€å…³é”®çš„å¼‚æˆ–æ­¥éª¤å°±æ˜¯eaxä¸­çš„å€¼ä¸ediä¸­çš„å€¼å¼‚æˆ–ï¼Œè¿™é‡Œè¦æ³¨æ„ï¼Œé€šè¿‡f8å•æ­¥è·Ÿå‘ç°ï¼Œæ¯å¾ªç¯ä¸€æ¬¡ï¼Œnameï¼ˆå­˜å‚¨åœ¨ediä¸­ï¼‰éƒ½ä¼šåç§»ä¸€ä½ï¼Œç›¸å½“äº<br>[1234]5,1[2345], 12[345],123[45],1234[5]è¿™æ ·<strong>æ¯æ¬¡å–å››å­—èŠ‚çš„è¿ç®—æ–¹å¼</strong>ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/20200309195133416.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>çŸ¥é“äº†åŠ å¯†åŸç†ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥å†™æ³¨å†Œæœºã€‚å› ä¸ºå¼‚æˆ–æ˜¯å¯ä»¥é€†å‘è¿›è¡Œçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»¤<br>serial = 0xF6EEDB88ï¼Œè€Œnameåˆ†åˆ«ä¸º1234[5], 123[45], 12[345],1[2345] ,[1234]5çš„é€†å‘æ–¹å¼è¿›è¡Œè®¡ç®—ã€‚å¹¶ä¸”è¿˜è¦æ³¨æ„ä¸è®ºé•¿åº¦åå…­æ¬¡å¾ªç¯æ˜¯ä¸€å®šè¦èµ°å®Œçš„ã€‚</p>
<h3 id="0x03-æ³¨å†Œæœºå®ç°"><a href="#0x03-æ³¨å†Œæœºå®ç°" class="headerlink" title="0x03 æ³¨å†Œæœºå®ç°"></a>0x03 æ³¨å†Œæœºå®ç°</h3><p>æ³¨å†Œæœºç®—æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">char</span> * name;</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> serial = <span class="number">0xF6EEDB88</span>;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">unsigned</span> <span class="keyword">long</span> * p;</span><br><span class="line">    name = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">30</span>];</span><br><span class="line">    <span class="comment">// å¯¹ä¸€ç‰‡å†…å­˜ç©ºé—´é€å­—èŠ‚è¿›è¡Œåˆå§‹åŒ–ï¼Œç”¨0å¡«å……å¾ˆé‡è¦</span></span><br><span class="line">    <span class="built_in">memset</span>(name, <span class="number">0</span>, <span class="built_in">strlen</span>(name));</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"name: "</span>;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0x10</span><span class="number">-1</span>; x &gt;= <span class="number">0</span>; x--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// unsigned long ç¡®ä¿å››å­—èŠ‚ï¼Œè¿™é‡Œpæ¯æ¬¡å¾ªç¯åˆ†åˆ«ä¸ºä¸€ä¸ªé•¿åº¦ä¸º4çš„æ•°ç»„ </span></span><br><span class="line">        p = (<span class="keyword">unsigned</span> <span class="keyword">long</span> *) &amp;name[x];</span><br><span class="line">        serial = serial ^ *p;</span><br><span class="line">        serial--;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt;<span class="string">"serial: "</span> &lt;&lt;serial&lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    system(<span class="string">"pause"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»è¿‡éªŒè¯ï¼Œæ³¨å†Œæœºæ­£ç¡®ã€‚<br><img src="https://img-blog.csdnimg.cn/20200309195712343.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20200309195722682.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å‚è€ƒèµ„æ–™ï¼š<a href="https://www.52pojie.cn/thread-670504-1-1.html" target="_blank" rel="noopener">https://www.52pojie.cn/thread-670504-1-1.html</a></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Reverse/" rel="tag">Reverse</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
    <article id="post-è½¬è½®æœºçš„åŠ è§£å¯†å®ç°" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2020/03/07/%E8%BD%AC%E8%BD%AE%E6%9C%BA%E7%9A%84%E5%8A%A0%E8%A7%A3%E5%AF%86%E5%AE%9E%E7%8E%B0/"
    >è½¬è½®æœºçš„åŠ è§£å¯†å®ç°</a
  >
</h2>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/03/07/%E8%BD%AC%E8%BD%AE%E6%9C%BA%E7%9A%84%E5%8A%A0%E8%A7%A3%E5%AF%86%E5%AE%9E%E7%8E%B0/" class="article-date">
  <time datetime="2020-03-07T14:20:10.000Z" itemprop="datePublished">2020-03-07</time>
</a>
      
      
      
      
    </div>
    

    

    
    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h2 id="è½¬è½®æœºçš„åŠ è§£å¯†å®ç°"><a href="#è½¬è½®æœºçš„åŠ è§£å¯†å®ç°" class="headerlink" title="è½¬è½®æœºçš„åŠ è§£å¯†å®ç°"></a>è½¬è½®æœºçš„åŠ è§£å¯†å®ç°</h2><h4 id="0x00"><a href="#0x00" class="headerlink" title="0x00"></a>0x00</h4><p>å¯†ç å­¦è¯¾ç¨‹çš„ç¬¬ä¸€ä¸ªå®éªŒï¼Œè¦æ±‚å®ç°è½¬è½®æœºçš„åŠ è§£å¯†ï¼Œäºæ˜¯é‡æ–°æ‹¿èµ·C++å˜æˆï¼Œæƒå½“å¤ä¹ ã€‚</p>
<h4 id="0x01"><a href="#0x01" class="headerlink" title="0x01"></a>0x01</h4><p>è½¬è½®æœºçš„åŸç†å¦‚ä¸‹å›¾ï¼š<br><img src="https://img-blog.csdnimg.cn/20200307221118136.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_10,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è½¬è½®å¯†ç æœºç”±å¤šä¸ªè½¬è½®æ„æˆï¼Œæ¯ä¸ªè½¬è½®æ—‹è½¬çš„é€Ÿåº¦éƒ½ä¸ä¸€æ ·ï¼Œæ¯”å¦‚æœ‰3ä¸ªè½¬è½®ï¼Œåˆ†åˆ«æ ‡å·ä¸º1,2,3ï¼Œå…¶ä¸­1å·è½¬è½®è½¬åŠ¨26ä¸ªå­—æ¯åï¼Œ2å·è½¬è½®å°±è½¬åŠ¨ä¸€ä¸ªå­—æ¯ï¼Œå½“2å·è½¬è½®è½¬åŠ¨26ä¸ªå­—æ¯åï¼Œ3å·è½¬è½®å°±è½¬åŠ¨1ä¸ªå­—æ¯ã€‚å› æ­¤ï¼Œå½“è½¬è½®å¯†ç æœºè½¬åŠ¨26X26X26æ¬¡åï¼Œæ‰€æœ‰è½¬è½®æ¢å¤åˆ°åˆå§‹çŠ¶æ€ï¼Œå³3ä¸ªè½¬è½®å¯†ç æœºçš„ä¸€ä¸ªå‘¨æœŸé•¿åº¦ä¸º26X26X26ï¼ˆ17576ï¼‰çš„å¤šè¡¨ä»£æ¢å¯†ç ã€‚<br>ï¼ˆèµ„æ–™æ¥æºï¼š<a href="https://blog.csdn.net/zdh89786/article/details/84497357ï¼‰" target="_blank" rel="noopener">https://blog.csdn.net/zdh89786/article/details/84497357ï¼‰</a></p>
<h4 id="0x02"><a href="#0x02" class="headerlink" title="0x02"></a>0x02</h4><p>å®ç°åŸç†ï¼šé¦–å…ˆå®šä¹‰äº†å…­ä¸ªæ•°ç»„ï¼Œå³ä¸‰ç»„è½®å­ï¼Œåˆ†åˆ«ä¸ºæ…¢è½®å·¦ã€æ…¢è½®å³ã€ä¸­è½®å·¦ã€ä¸­è½®å³ã€å¿«è½®å·¦ã€å¿«è½®å³ï¼Œç”¨äºå­˜å‚¨è½¬è½®çš„åˆå§‹çŠ¶æ€ã€‚æ¥ç€å°†å¯†æ–‡çš„å­—ç¬¦æŒ¨ä¸ªè¾“å…¥ï¼Œå¦‚æœåˆ¤æ–­æ˜¯å­—æ¯åˆ™è¿›è¡ŒåŠ å¯†å¤„ç†ï¼ŒåŒæ—¶è®¡æ•°ã€‚è½¬è½®çš„è½¬åŠ¨æƒ…å†µä¾¿æ˜¯åŸºäºå­—ç¬¦è¾“å…¥çš„æ¬¡æ•°ï¼Œå¦‚æœè¾¾åˆ°26çš„å€æ•°ï¼Œåˆ™ä¸­è½®è½¬åŠ¨ï¼Œå¦‚æœè¾¾åˆ°26*26çš„å€æ•°ï¼Œåˆ™æ…¢è½®è½¬åŠ¨ã€‚è§£å¯†è¿‡ç¨‹åä¹‹å³å¯ã€‚</p>
<p>æºç å¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Turn_wheel</span><span class="params">(<span class="keyword">int</span>* wheel_l, <span class="keyword">int</span>* wheel_r)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Reverse_turn_wheel</span><span class="params">(<span class="keyword">int</span>* wheel_l, <span class="keyword">int</span>* wheel_r)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Encrypt</span><span class="params">(<span class="keyword">char</span>* cleartext,<span class="keyword">char</span>* ciphertext,<span class="keyword">int</span>* slow_wheel_l,<span class="keyword">int</span>* slow_wheel_r,<span class="keyword">int</span>* mid_wheel_l,<span class="keyword">int</span>* mid_wheel_r,</span></span></span><br><span class="line"><span class="function"><span class="params"><span class="keyword">int</span>* fast_wheel_l,<span class="keyword">int</span>* fast_wheel_r)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Decrypt</span><span class="params">(<span class="keyword">char</span>* ciphertext,<span class="keyword">char</span>* cleartext,<span class="keyword">int</span>* slow_wheel_l,<span class="keyword">int</span>* slow_wheel_r,<span class="keyword">int</span>* mid_wheel_l,<span class="keyword">int</span>* mid_wheel_r,</span></span></span><br><span class="line"><span class="function"><span class="params"><span class="keyword">int</span>* fast_wheel_l,<span class="keyword">int</span>* fast_wheel_r)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®šä¹‰å¿«ã€ä¸­ã€æ…¢ä¸‰ç»„è½®å­</span></span><br><span class="line">    <span class="keyword">int</span> slow_wheel_l[<span class="number">26</span>]=&#123;<span class="number">24</span>,<span class="number">25</span>,<span class="number">26</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">17</span>,<span class="number">18</span>,<span class="number">19</span>,<span class="number">20</span>,<span class="number">21</span>,<span class="number">22</span>,<span class="number">23</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> slow_wheel_r[<span class="number">26</span>]=&#123;<span class="number">21</span>,<span class="number">3</span>,<span class="number">15</span>,<span class="number">1</span>,<span class="number">19</span>,<span class="number">10</span>,<span class="number">14</span>,<span class="number">26</span>,<span class="number">20</span>,<span class="number">8</span>,<span class="number">16</span>,<span class="number">7</span>,<span class="number">22</span>,<span class="number">4</span>,<span class="number">11</span>,<span class="number">5</span>,<span class="number">17</span>,<span class="number">9</span>,<span class="number">12</span>,<span class="number">23</span>,<span class="number">18</span>,<span class="number">2</span>,<span class="number">25</span>,<span class="number">6</span>,<span class="number">24</span>,<span class="number">13</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> mid_wheel_l[<span class="number">26</span>]=&#123;<span class="number">26</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">17</span>,<span class="number">18</span>,<span class="number">19</span>,<span class="number">20</span>,<span class="number">21</span>,<span class="number">22</span>,<span class="number">23</span>,<span class="number">24</span>,<span class="number">25</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> mid_wheel_r[<span class="number">26</span>]=&#123;<span class="number">20</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">15</span>,<span class="number">3</span>,<span class="number">14</span>,<span class="number">12</span>,<span class="number">23</span>,<span class="number">5</span>,<span class="number">16</span>,<span class="number">2</span>,<span class="number">22</span>,<span class="number">19</span>,<span class="number">11</span>,<span class="number">18</span>,<span class="number">25</span>,<span class="number">24</span>,<span class="number">13</span>,<span class="number">7</span>,<span class="number">10</span>,<span class="number">8</span>,<span class="number">21</span>,<span class="number">9</span>,<span class="number">26</span>,<span class="number">17</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> fast_wheel_l[<span class="number">26</span>]=&#123;<span class="number">26</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">17</span>,<span class="number">18</span>,<span class="number">19</span>,<span class="number">20</span>,<span class="number">21</span>,<span class="number">22</span>,<span class="number">23</span>,<span class="number">24</span>,<span class="number">25</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> fast_wheel_r[<span class="number">26</span>]=&#123;<span class="number">14</span>,<span class="number">8</span>,<span class="number">18</span>,<span class="number">26</span>,<span class="number">17</span>,<span class="number">20</span>,<span class="number">22</span>,<span class="number">10</span>,<span class="number">3</span>,<span class="number">13</span>,<span class="number">11</span>,<span class="number">4</span>,<span class="number">23</span>,<span class="number">5</span>,<span class="number">24</span>,<span class="number">9</span>,<span class="number">12</span>,<span class="number">25</span>,<span class="number">16</span>,<span class="number">19</span>,<span class="number">6</span>,<span class="number">15</span>,<span class="number">21</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">1</span>&#125;;</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿›è¡ŒåŠ å¯†</span></span><br><span class="line">    <span class="keyword">char</span> cleartext[] = <span class="string">"the state key boratory of networking and switching technology belongs to beijing university of posts and telecommunication the laboratory was opened in nineteen ninety two in nineteen ninety five the laboratory passed acceptance inspection by government and an evaluation organized by ministry of science and technology in two thousand and two since two thousand an our the laboratory has been renamed as the state key laboratory of networking and switching technology by ministry of science and technology."</span>;</span><br><span class="line">    <span class="keyword">char</span> ciphertext[] = <span class="string">"the state key boratory of networking and switching technology belongs to beijing university of posts and telecommunication the laboratory was opened in nineteen ninety two in nineteen ninety five the laboratory passed acceptance inspection by government and an evaluation organized by ministry of science and technology in two thousand and two since two thousand an our the laboratory has been renamed as the state key laboratory of networking and switching technology by ministry of science and technology."</span>;</span><br><span class="line">    </span><br><span class="line">    Encrypt(cleartext,ciphertext,slow_wheel_l,slow_wheel_r,mid_wheel_l,mid_wheel_r,fast_wheel_l,fast_wheel_r);</span><br><span class="line">    <span class="comment">// è¾“å‡ºåŠ å¯†åçš„ç»“æœ</span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"CIPHERTEXT:"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=<span class="built_in">strlen</span>(ciphertext)<span class="number">-1</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;ciphertext[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    Decrypt(ciphertext,cleartext,slow_wheel_l,slow_wheel_r,mid_wheel_l,mid_wheel_r,fast_wheel_l,fast_wheel_r);</span><br><span class="line">    <span class="comment">// è¾“å‡ºè§£å¯†åçš„ç»“æœ</span></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">"CLEARTEXT:"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=<span class="built_in">strlen</span>(cleartext)<span class="number">-1</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;cleartext[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line">    getchar();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Turn_wheel</span><span class="params">(<span class="keyword">int</span>* wheel_l, <span class="keyword">int</span>* wheel_r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = wheel_l[<span class="number">25</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">25</span>;i&gt;=<span class="number">1</span>;i--)</span><br><span class="line">    &#123;</span><br><span class="line">        wheel_l[i] = wheel_l[i<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    wheel_l[<span class="number">0</span>] = temp;</span><br><span class="line"></span><br><span class="line">    temp = wheel_r[<span class="number">25</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">25</span>;i&gt;=<span class="number">1</span>;i--)</span><br><span class="line">    &#123;</span><br><span class="line">        wheel_r[i] = wheel_r[i<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    wheel_r[<span class="number">0</span>] = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Reverse_turn_wheel</span><span class="params">(<span class="keyword">int</span>* wheel_l, <span class="keyword">int</span>* wheel_r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> temp = wheel_l[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">24</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        wheel_l[i] = wheel_l[i+<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    wheel_l[<span class="number">25</span>] = temp;</span><br><span class="line"></span><br><span class="line">    temp = wheel_r[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">24</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        wheel_r[i] = wheel_r[i+<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    wheel_r[<span class="number">25</span>] = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Encrypt</span><span class="params">(<span class="keyword">char</span>* cleartext,<span class="keyword">char</span>* ciphertext,<span class="keyword">int</span>* slow_wheel_l,<span class="keyword">int</span>* slow_wheel_r,<span class="keyword">int</span>* mid_wheel_l,<span class="keyword">int</span>* mid_wheel_r,</span></span></span><br><span class="line"><span class="function"><span class="params"><span class="keyword">int</span>* fast_wheel_l,<span class="keyword">int</span>* fast_wheel_r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// åˆ†åˆ«å®šä¹‰ä¸‰ä¸ªè½¬è½®çš„è®¡æ•°å™¨</span></span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è½¬è½®åŠ å¯†è¿‡ç¨‹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=<span class="built_in">strlen</span>(cleartext)<span class="number">-1</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">'a'</span>&lt;=cleartext[i] &amp;&amp; cleartext[i]&lt;=<span class="string">'z'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> cur = cleartext[i]-<span class="string">'a'</span>;</span><br><span class="line">        </span><br><span class="line">            cur = slow_wheel_l[cur];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">26</span>;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (cur == slow_wheel_r[j])</span><br><span class="line">                &#123;</span><br><span class="line">                    cur = mid_wheel_l[j];</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">26</span>;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (cur == mid_wheel_r[j])</span><br><span class="line">                &#123;</span><br><span class="line">                    cur = fast_wheel_l[j];</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">26</span>;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (cur == fast_wheel_r[j])</span><br><span class="line">                &#123;</span><br><span class="line">                    cur = j+<span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            ciphertext[i] = <span class="keyword">char</span>(cur+<span class="number">96</span>); </span><br><span class="line"></span><br><span class="line">            <span class="comment">// åˆ¤æ–­ä¸‰ä¸ªè½¬å­æ˜¯å¦éœ€è¦è½¬åŠ¨</span></span><br><span class="line">            count++;</span><br><span class="line">            </span><br><span class="line">            Turn_wheel(fast_wheel_l, fast_wheel_r);</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (count%<span class="number">26</span> == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                </span><br><span class="line">                Turn_wheel(mid_wheel_l, mid_wheel_r);</span><br><span class="line">                <span class="keyword">if</span> (count%(<span class="number">26</span>*<span class="number">26</span>) == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    Turn_wheel(slow_wheel_l, slow_wheel_r);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">           </span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Decrypt</span><span class="params">(<span class="keyword">char</span>* ciphertext,<span class="keyword">char</span>* cleartext,<span class="keyword">int</span>* slow_wheel_l,<span class="keyword">int</span>* slow_wheel_r,<span class="keyword">int</span>* mid_wheel_l,<span class="keyword">int</span>* mid_wheel_r,</span></span></span><br><span class="line"><span class="function"><span class="params"><span class="keyword">int</span>* fast_wheel_l,<span class="keyword">int</span>* fast_wheel_r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=<span class="built_in">strlen</span>(ciphertext)<span class="number">-1</span>;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">'a'</span>&lt;=ciphertext[i] &amp;&amp; ciphertext[i]&lt;=<span class="string">'z'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;count&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    Reverse_turn_wheel(fast_wheel_l, fast_wheel_r);</span><br><span class="line">    <span class="keyword">if</span> (count%<span class="number">26</span> == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        Reverse_turn_wheel(mid_wheel_l, mid_wheel_r);</span><br><span class="line">        <span class="keyword">if</span> (count%(<span class="number">26</span>*<span class="number">26</span>) == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Turn_wheel(slow_wheel_l, slow_wheel_r);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è½¬è½®è§£å¯†è¿‡ç¨‹</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="built_in">strlen</span>(ciphertext)<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">'a'</span>&lt;=ciphertext[i] &amp;&amp; ciphertext[i]&lt;=<span class="string">'z'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> cur = ciphertext[i]-<span class="string">'a'</span>;</span><br><span class="line">            cur = fast_wheel_r[cur];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">26</span>;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (cur == fast_wheel_l[j])</span><br><span class="line">                &#123;</span><br><span class="line">                    cur = mid_wheel_r[j];</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">26</span>;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (cur == mid_wheel_l[j])</span><br><span class="line">                &#123;</span><br><span class="line">                    cur = slow_wheel_r[j];</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;<span class="number">26</span>;j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (cur == slow_wheel_l[j])</span><br><span class="line">                &#123;</span><br><span class="line">                    cur = j+<span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åˆ¤æ–­ä¸‰ä¸ªè½¬å­æ˜¯å¦éœ€è¦è½¬åŠ¨</span></span><br><span class="line">            count--;</span><br><span class="line">            Reverse_turn_wheel(fast_wheel_l, fast_wheel_r);</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (count%<span class="number">26</span> == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                Reverse_turn_wheel(mid_wheel_l, mid_wheel_r);</span><br><span class="line">                <span class="keyword">if</span> (count%(<span class="number">26</span>*<span class="number">26</span>) == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    Reverse_turn_wheel(slow_wheel_l, slow_wheel_r);   </span><br><span class="line">                &#125;</span><br><span class="line">        </span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            cleartext[i] = <span class="keyword">char</span>(cur+<span class="number">96</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œåæ˜¾ç¤ºå¦‚ä¸‹ï¼š<br><img src="https://img-blog.csdnimg.cn/20200307221522463.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNzYyNTc0,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Cryptography/" rel="tag">Cryptography</a></li></ul>


    </footer>

  </div>

  

  
  
  

  

</article>
    
  </article>
  

  
  <nav class="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">ä¸‹ä¸€é¡µ</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul class="list-inline">
      <li>
        &copy;
        2015-2020
        Gengar
      </li>
      <li>
        
          Powered by
        
        
        <a href="https://hexo.io" target="_blank">Hexo</a> Theme <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul class="list-inline">
      <li>
        
        
        <span>
  <i>PV:<span id="busuanzi_value_page_pv"></span></i>
  <i>UV:<span id="busuanzi_value_site_uv"></span></i>
</span>
        
      </li>
      <li>
        <!-- cnzzç»Ÿè®¡ -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>
    <div class="to_top">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>
      </div>
    </main>
      <aside class="sidebar">
        <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="Ayer"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">ä¸»é¡µ</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">å½’æ¡£</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">æ ‡ç­¾</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">åˆ†ç±»</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
      </aside>
      <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>è¯·æˆ‘å–æ¯å’–å•¡å§~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">æ”¯ä»˜å®</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">å¾®ä¿¡</span>
    </div>
    
  </div>
</div>
      
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/jquery.justifiedGallery.min.js"></script>


<script src="/js/lazyload.min.js"></script>


<script src="/js/busuanzi-2.3.pure.min.js"></script>


<script src="/js/share.js"></script>



<script src="/fancybox/jquery.fancybox.min.js"></script>




<script>
  try {
    var typed = new Typed("#subtitle", {
    strings: ['Stay hungry. Stay foolish.','',''],
    startDelay: 0,
    typeSpeed: 200,
    loop: true,
    backSpeed: 100,
    showCursor: true
    });
  } catch (err) {
  }
  
</script>




<script>
  var ayerConfig = {
    mathjax: false
  }
</script>


<script src="/js/ayer.js"></script>


<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // sliderå±•å¼€çŠ¶æ€
                // todo: è¿™æ ·ä¸å¥½ï¼Œåé¢æ”¹æˆçŠ¶æ€
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // è·å¾—åŸå›¾å°ºå¯¸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>




<script type="text/javascript" src="https://js.users.51.la/20544303.js"></script>
  </div>
</body>

</html>